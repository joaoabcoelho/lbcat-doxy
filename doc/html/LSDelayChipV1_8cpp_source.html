<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Cat: /home/eleclhcb/LHCb/lbcat-cmake/CatBcn/src/LSDelayChipV1.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>/home/eleclhcb/LHCb/lbcat-cmake/CatBcn/src/LSDelayChipV1.cpp</h1><a href="LSDelayChipV1_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//$Id: LSDelayChipV1.h,v 1.0 2013/11/11 13:11:24 jmauricio Exp $</span>
<a name="l00002"></a>00002 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00003"></a>00003 <span class="comment">//</span>
<a name="l00004"></a>00004 <span class="comment">//  Package    : LSDelayChipV1</span>
<a name="l00005"></a>00005 <span class="comment">//</span>
<a name="l00006"></a>00006 <span class="comment">//  Description:</span>
<a name="l00007"></a>00007 <span class="comment">//</span>
<a name="l00008"></a>00008 <span class="comment">//  Author(s)  : Joan Mauricio</span>
<a name="l00009"></a>00009 <span class="comment">//  Date       : 2013/11/11</span>
<a name="l00010"></a>00010 <span class="comment">//</span>
<a name="l00011"></a>00011 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="comment">// local include file</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &quot;<a class="code" href="LSDelayChipV1_8h.html">LSDelayChipV1.h</a>&quot;</span>
<a name="l00015"></a>00015 
<a name="l00016"></a>00016 <span class="comment">//Basic reading operations...</span>
<a name="l00017"></a><a class="code" href="classLSDelayChipV1.html#a97a50092ce40f6322db946fc580f7230">00017</a> <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a97a50092ce40f6322db946fc580f7230">LSDelayChipV1::configRegBulkRead</a>(<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr)
<a name="l00018"></a>00018 {
<a name="l00019"></a>00019     <span class="comment">//m_regConfig-&gt;io()-&gt;setAddress(confRegAddr + 128);     //+128 = read   </span>
<a name="l00020"></a>00020     <a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a>* buffer = <a class="code" href="classLSDelayChipV1.html#afd1cfdcb114549dc1466c77f07d39fe0">m_regConfig</a>-&gt;<a class="code" href="classIOobject.html#af04fb94137c3d86849f478ac5afab5d1">io</a>()-&gt;<a class="code" href="classIOdata.html#a75e9c318dbac3a39402179070943d4bc">dataU8</a>();
<a name="l00021"></a>00021     buffer[2] = confRegAddr + 128;
<a name="l00022"></a>00022     <span class="keywordflow">if</span> (<a class="code" href="classLSDelayChipV1.html#afd1cfdcb114549dc1466c77f07d39fe0">m_regConfig</a>-&gt;<a class="code" href="classIOobject.html#aa07610c11963b1db6710e3c76ceea456">read</a>().<a class="code" href="classStatusCode.html#aa5d4d426deef86d8595b08abf6efa5f7">isFailure</a>())  <a class="code" href="classObject.html#a65cd4fda577711660821fd2cd5a3b4c9">warning</a>(<span class="stringliteral">&quot;LSDelayChipV1 configuration register read failure.&quot;</span>);
<a name="l00023"></a>00023     <span class="keywordflow">else</span>
<a name="l00024"></a>00024     {
<a name="l00025"></a>00025         <a class="code" href="classLSDelayChipV1.html#ae049797212539b231b9722ae69a0491d">m_rxConfigBits</a> = ((<a class="code" href="ICECALv3_8h.html#adf928e51a60dba0df29d615401cc55a8">U16</a>)buffer[1] * 256) + (<a class="code" href="ICECALv3_8h.html#adf928e51a60dba0df29d615401cc55a8">U16</a>)buffer[0];
<a name="l00026"></a>00026         <a class="code" href="classObject.html#aac010553f022165573714b7014a15f0d">debug</a>(<span class="stringliteral">&quot;Config. Register phase (@&quot;</span>+ <a class="code" href="classLSDelayChipV1.html#af7f4d72fb404b6b3d7b41fd01876ed0a">itohs</a>(confRegAddr) + <span class="stringliteral">&quot;) = 0x&quot;</span> + <a class="code" href="classLSDelayChipV1.html#af7f4d72fb404b6b3d7b41fd01876ed0a">itohs</a>(<a class="code" href="classLSDelayChipV1.html#ae049797212539b231b9722ae69a0491d">m_rxConfigBits</a>),<span class="stringliteral">&quot;LSDCv1::configRegBulkRead&quot;</span>);
<a name="l00027"></a>00027     }
<a name="l00028"></a>00028          
<a name="l00029"></a>00029     <span class="comment">//return m_rxConfigBits; </span>
<a name="l00030"></a>00030 }
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="comment">// SPI Configuration Data Frame:</span>
<a name="l00033"></a>00033 <span class="comment">//       1b       1b          5b             5b             1b           1b       2b</span>
<a name="l00034"></a>00034 <span class="comment">//  LVDS Out en  -N.U-  Phase T&amp;H (ADC)    Phase INT    !VCNT Out En    DEBUG    LOCUS</span>
<a name="l00035"></a><a class="code" href="classLSDelayChipV1.html#a4f338071d49df7eae55020a5f5fa8474">00035</a> <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a4f338071d49df7eae55020a5f5fa8474">LSDelayChipV1::getConfigReg</a>(<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr)
<a name="l00036"></a>00036 {
<a name="l00037"></a>00037     <span class="keywordtype">bool</span> ok = <a class="code" href="classLSDelayChipV1.html#aa8118972150a9e1e95e9006e003c0206">checkConfigAddr</a>(confRegAddr);
<a name="l00038"></a>00038     <span class="keywordflow">if</span>(ok)
<a name="l00039"></a>00039     {
<a name="l00040"></a>00040         <a class="code" href="classLSDelayChipV1.html#a97a50092ce40f6322db946fc580f7230">configRegBulkRead</a>(confRegAddr);
<a name="l00041"></a>00041         <a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a709d8d691ef0c8ea5c4c03aac3d851f1">lvdsOutEn</a>    = (<a class="code" href="classLSDelayChipV1.html#ae049797212539b231b9722ae69a0491d">m_rxConfigBits</a> &gt;&gt; 15) &amp; 0x01;
<a name="l00042"></a>00042         <a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a2e471f30b32e57270cb2edb0e420cf1b">phaseTaHAdc</a>  = (<a class="code" href="classLSDelayChipV1.html#ae049797212539b231b9722ae69a0491d">m_rxConfigBits</a> &gt;&gt; 9)  &amp; 0x1F;
<a name="l00043"></a>00043         <a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#aee4fd08aceaaf19fcb8edfe8aa50f5ab">phaseInt</a>     = (<a class="code" href="classLSDelayChipV1.html#ae049797212539b231b9722ae69a0491d">m_rxConfigBits</a> &gt;&gt; 4)  &amp; 0x1F;
<a name="l00044"></a>00044         <a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a62f72429bde3ede255f6d8dfe1401c37">nVControlEn</a>  = (<a class="code" href="classLSDelayChipV1.html#ae049797212539b231b9722ae69a0491d">m_rxConfigBits</a> &gt;&gt; 3)  &amp; 0x01;
<a name="l00045"></a>00045         <a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a4e98d082c44e34995224bd242da493d0">padDebug</a>     = (<a class="code" href="classLSDelayChipV1.html#ae049797212539b231b9722ae69a0491d">m_rxConfigBits</a> &gt;&gt; 2)  &amp; 0x01;
<a name="l00046"></a>00046         <a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a0ed9976dd55237ee70ba3621b0f4f58c">locus</a>        =  <a class="code" href="classLSDelayChipV1.html#ae049797212539b231b9722ae69a0491d">m_rxConfigBits</a>        &amp; 0x03;
<a name="l00047"></a>00047         <a class="code" href="classLSDelayChipV1.html#ab49ac38bf9e7a41ccb89c6725cfcac3a">m_configAddr</a>            =  confRegAddr;
<a name="l00048"></a>00048 <a class="code" href="structconfRegData.html">confRegData</a> tmp = <a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>;       
<a name="l00049"></a>00049 <a class="code" href="classLSDelayChipV1.html#a97a50092ce40f6322db946fc580f7230">configRegBulkRead</a>(confRegAddr);
<a name="l00050"></a>00050 <a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a> = tmp;       
<a name="l00051"></a>00051      }
<a name="l00052"></a>00052      <span class="keywordflow">else</span>
<a name="l00053"></a>00053          <a class="code" href="classObject.html#a65cd4fda577711660821fd2cd5a3b4c9">warning</a>(<span class="stringliteral">&quot;@&quot;</span> + <a class="code" href="Tools_8h.html#af330027dbdafb9a30768b3613c553e60">itos</a>(confRegAddr) + <span class="stringliteral">&quot; is not a valid Configuration Register address.&quot;</span>,<span class="stringliteral">&quot;LSDCv1::getConfigReg&quot;</span>);   
<a name="l00054"></a>00054 }
<a name="l00055"></a>00055 
<a name="l00056"></a>00056 <span class="comment">//Basic writing operations...</span>
<a name="l00057"></a><a class="code" href="classLSDelayChipV1.html#afa626b5d52f8723bcaa3205d1cc7a0f8">00057</a> <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#afa626b5d52f8723bcaa3205d1cc7a0f8">LSDelayChipV1::configRegBulkWrite</a>(<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <a class="code" href="ICECALv3_8h.html#adf928e51a60dba0df29d615401cc55a8">U16</a> <a class="code" href="structconfRegData.html">confRegData</a>)
<a name="l00058"></a>00058 {
<a name="l00059"></a>00059     <a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a>* buffer = <a class="code" href="classLSDelayChipV1.html#afd1cfdcb114549dc1466c77f07d39fe0">m_regConfig</a>-&gt;<a class="code" href="classIOobject.html#af04fb94137c3d86849f478ac5afab5d1">io</a>()-&gt;<a class="code" href="classIOdata.html#a75e9c318dbac3a39402179070943d4bc">dataU8</a>();
<a name="l00060"></a>00060     buffer[2] = confRegAddr;
<a name="l00061"></a>00061     buffer[1] = (confRegData &gt;&gt; 8) &amp; 0xFF;
<a name="l00062"></a>00062     buffer[0] =  confRegData       &amp; 0xFF;
<a name="l00063"></a>00063     <span class="keywordflow">if</span>(<a class="code" href="classLSDelayChipV1.html#afd1cfdcb114549dc1466c77f07d39fe0">m_regConfig</a>-&gt;<a class="code" href="classIOobject.html#a9f6984bc9f0fadcf800f1be2523ac744">write</a>().<a class="code" href="classStatusCode.html#aa5d4d426deef86d8595b08abf6efa5f7">isFailure</a>())    <a class="code" href="classObject.html#a65cd4fda577711660821fd2cd5a3b4c9">warning</a>(<span class="stringliteral">&quot;LSDelayChipV1 configuration register write failure.&quot;</span>);
<a name="l00064"></a>00064     <span class="keywordflow">else</span>                                    <a class="code" href="classObject.html#aac010553f022165573714b7014a15f0d">debug</a>(<span class="stringliteral">&quot;Config. Register phase (@&quot;</span>+ <a class="code" href="classLSDelayChipV1.html#af7f4d72fb404b6b3d7b41fd01876ed0a">itohs</a>(confRegAddr) + <span class="stringliteral">&quot;) = 0x&quot;</span> + <a class="code" href="classLSDelayChipV1.html#af7f4d72fb404b6b3d7b41fd01876ed0a">itohs</a>(confRegData),<span class="stringliteral">&quot;LSDCv1::configRegBulkWrite&quot;</span>);
<a name="l00065"></a>00065 }
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 <span class="comment">// SPI Configuration Data Frame:</span>
<a name="l00068"></a>00068 <span class="comment">//       1b       1b          5b             5b             1b           1b       2b</span>
<a name="l00069"></a>00069 <span class="comment">//  LVDS Out en  -N.U-  Phase T&amp;H (ADC)    Phase INT    !VCNT Out En    DEBUG    LOCUS</span>
<a name="l00070"></a><a class="code" href="classLSDelayChipV1.html#a11fa2ebfa37c5cf0544ddb68c7d43e94">00070</a> <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a11fa2ebfa37c5cf0544ddb68c7d43e94">LSDelayChipV1::setConfigReg</a>(<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <a class="code" href="structconfRegData.html">confRegData</a> d)
<a name="l00071"></a>00071 {
<a name="l00072"></a>00072     <a class="code" href="ICECALv3_8h.html#adf928e51a60dba0df29d615401cc55a8">U16</a> <a class="code" href="namespaceshell.html#a3c1788d69046b9e508b31e01b5cf71fc">data</a>;
<a name="l00073"></a>00073     <span class="keywordtype">bool</span> ok = <a class="code" href="classLSDelayChipV1.html#aa8118972150a9e1e95e9006e003c0206">checkConfigAddr</a>(confRegAddr);
<a name="l00074"></a>00074     <span class="keywordflow">if</span>(ok)
<a name="l00075"></a>00075     {
<a name="l00076"></a>00076         data = ((d.<a class="code" href="structconfRegData.html#a709d8d691ef0c8ea5c4c03aac3d851f1">lvdsOutEn</a> &amp; 0x01) &lt;&lt; 15) | ((d.<a class="code" href="structconfRegData.html#a2e471f30b32e57270cb2edb0e420cf1b">phaseTaHAdc</a> &amp; 0x1F) &lt;&lt; 9) | ((d.<a class="code" href="structconfRegData.html#aee4fd08aceaaf19fcb8edfe8aa50f5ab">phaseInt</a> &amp; 0x1F) &lt;&lt; 4) | ((d.<a class="code" href="structconfRegData.html#a62f72429bde3ede255f6d8dfe1401c37">nVControlEn</a> &amp; 0x01) &lt;&lt; 3) | ((d.<a class="code" href="structconfRegData.html#a4e98d082c44e34995224bd242da493d0">padDebug</a> &amp; 0x01) &lt;&lt; 2) | (d.<a class="code" href="structconfRegData.html#a0ed9976dd55237ee70ba3621b0f4f58c">locus</a> &amp; 0x03);
<a name="l00077"></a>00077         <a class="code" href="classLSDelayChipV1.html#afa626b5d52f8723bcaa3205d1cc7a0f8">configRegBulkWrite</a>(confRegAddr,data);
<a name="l00078"></a>00078 <a class="code" href="classLSDelayChipV1.html#afa626b5d52f8723bcaa3205d1cc7a0f8">configRegBulkWrite</a>(confRegAddr,data);   
<a name="l00079"></a>00079     }
<a name="l00080"></a>00080     <span class="keywordflow">else</span>
<a name="l00081"></a>00081          <a class="code" href="classObject.html#a65cd4fda577711660821fd2cd5a3b4c9">warning</a>(<span class="stringliteral">&quot;@&quot;</span> + <a class="code" href="Tools_8h.html#af330027dbdafb9a30768b3613c553e60">itos</a>(confRegAddr) + <span class="stringliteral">&quot; is not a valid Configuration Register address.&quot;</span>,<span class="stringliteral">&quot;LSDCv1::setConfigReg&quot;</span>);   
<a name="l00082"></a>00082 }
<a name="l00083"></a>00083 
<a name="l00085"></a>00085 <span class="comment">// Safe way to modify data: data is read from the register and </span>
<a name="l00086"></a>00086 <span class="comment">// then we modify the value that we want.</span>
<a name="l00087"></a><a class="code" href="classLSDelayChipV1.html#ad83fb046d3576cdccdb4b4fe59f7ff71">00087</a> <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#ad83fb046d3576cdccdb4b4fe59f7ff71">LSDelayChipV1::setConfigRegPhaseADC</a>(<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> phaseADC)
<a name="l00088"></a>00088 {
<a name="l00089"></a>00089     <a class="code" href="classLSDelayChipV1.html#a4f338071d49df7eae55020a5f5fa8474">getConfigReg</a>(confRegAddr);
<a name="l00090"></a>00090     <a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a2e471f30b32e57270cb2edb0e420cf1b">phaseTaHAdc</a> = phaseADC;
<a name="l00091"></a>00091     <a class="code" href="classLSDelayChipV1.html#a11fa2ebfa37c5cf0544ddb68c7d43e94">setConfigReg</a>(confRegAddr,<a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>);
<a name="l00092"></a>00092 }
<a name="l00093"></a>00093 
<a name="l00094"></a><a class="code" href="classLSDelayChipV1.html#aa1364ef56bf75884756a8d589cee4328">00094</a> <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#aa1364ef56bf75884756a8d589cee4328">LSDelayChipV1::setConfigRegPhaseTH</a>(<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> phaseTH)
<a name="l00095"></a>00095 {
<a name="l00096"></a>00096     <a class="code" href="classLSDelayChipV1.html#a4f338071d49df7eae55020a5f5fa8474">getConfigReg</a>(confRegAddr);
<a name="l00097"></a>00097     <a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a2e471f30b32e57270cb2edb0e420cf1b">phaseTaHAdc</a> = phaseTH;
<a name="l00098"></a>00098     <a class="code" href="classLSDelayChipV1.html#a11fa2ebfa37c5cf0544ddb68c7d43e94">setConfigReg</a>(confRegAddr,<a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>);
<a name="l00099"></a>00099 }
<a name="l00100"></a>00100 
<a name="l00101"></a><a class="code" href="classLSDelayChipV1.html#a317f739744d1093385306530fe5b312a">00101</a> <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a317f739744d1093385306530fe5b312a">LSDelayChipV1::setConfigRegPhaseINT</a>(<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> phaseINT)
<a name="l00102"></a>00102 {
<a name="l00103"></a>00103     <a class="code" href="classLSDelayChipV1.html#a4f338071d49df7eae55020a5f5fa8474">getConfigReg</a>(confRegAddr);
<a name="l00104"></a>00104     <a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#aee4fd08aceaaf19fcb8edfe8aa50f5ab">phaseInt</a> = phaseINT;
<a name="l00105"></a>00105     <a class="code" href="classLSDelayChipV1.html#a11fa2ebfa37c5cf0544ddb68c7d43e94">setConfigReg</a>(confRegAddr,<a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>);
<a name="l00106"></a>00106 }
<a name="l00107"></a>00107 
<a name="l00108"></a><a class="code" href="classLSDelayChipV1.html#a46a7aee8c7373c6858af9ecd29e9b116">00108</a> <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a46a7aee8c7373c6858af9ecd29e9b116">LSDelayChipV1::setConfigRegLVDSOutEn</a>(<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <span class="keywordtype">bool</span> en)
<a name="l00109"></a>00109 {
<a name="l00110"></a>00110     <a class="code" href="classLSDelayChipV1.html#a4f338071d49df7eae55020a5f5fa8474">getConfigReg</a>(confRegAddr);
<a name="l00111"></a>00111     <a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a709d8d691ef0c8ea5c4c03aac3d851f1">lvdsOutEn</a> = en;
<a name="l00112"></a>00112     <a class="code" href="classLSDelayChipV1.html#a11fa2ebfa37c5cf0544ddb68c7d43e94">setConfigReg</a>(confRegAddr,<a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>);
<a name="l00113"></a>00113 }
<a name="l00114"></a>00114 
<a name="l00115"></a><a class="code" href="classLSDelayChipV1.html#a813eca3585445d504d60a93ec55817f4">00115</a> <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a813eca3585445d504d60a93ec55817f4">LSDelayChipV1::setConfigRegDebugMode</a>(<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <span class="keywordtype">bool</span> en)
<a name="l00116"></a>00116 {
<a name="l00117"></a>00117     <a class="code" href="classLSDelayChipV1.html#a4f338071d49df7eae55020a5f5fa8474">getConfigReg</a>(confRegAddr);
<a name="l00118"></a>00118     <a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a4e98d082c44e34995224bd242da493d0">padDebug</a> = en;
<a name="l00119"></a>00119     <a class="code" href="classLSDelayChipV1.html#a11fa2ebfa37c5cf0544ddb68c7d43e94">setConfigReg</a>(confRegAddr,<a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>);
<a name="l00120"></a>00120 }
<a name="l00121"></a>00121 
<a name="l00122"></a><a class="code" href="classLSDelayChipV1.html#afd8a57dda2cd6a62607cbfc9808c3220">00122</a> <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#afd8a57dda2cd6a62607cbfc9808c3220">LSDelayChipV1::setConfigRegVControlOutEn</a>(<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <span class="keywordtype">bool</span> en)
<a name="l00123"></a>00123 {
<a name="l00124"></a>00124     <a class="code" href="classLSDelayChipV1.html#a4f338071d49df7eae55020a5f5fa8474">getConfigReg</a>(confRegAddr);
<a name="l00125"></a>00125     <a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a62f72429bde3ede255f6d8dfe1401c37">nVControlEn</a> = !en;
<a name="l00126"></a>00126     <a class="code" href="classLSDelayChipV1.html#a11fa2ebfa37c5cf0544ddb68c7d43e94">setConfigReg</a>(confRegAddr,<a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>);
<a name="l00127"></a>00127 }
<a name="l00128"></a>00128 
<a name="l00129"></a><a class="code" href="classLSDelayChipV1.html#a2a1eebeacb7ed2b0fc5584f3630d0aa0">00129</a> <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a2a1eebeacb7ed2b0fc5584f3630d0aa0">LSDelayChipV1::setConfigRegLOCUS</a>(<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> locus)
<a name="l00130"></a>00130 {
<a name="l00131"></a>00131     <a class="code" href="classLSDelayChipV1.html#a4f338071d49df7eae55020a5f5fa8474">getConfigReg</a>(confRegAddr);
<a name="l00132"></a>00132     <a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a0ed9976dd55237ee70ba3621b0f4f58c">locus</a> = locus;
<a name="l00133"></a>00133     <a class="code" href="classLSDelayChipV1.html#a11fa2ebfa37c5cf0544ddb68c7d43e94">setConfigReg</a>(confRegAddr,<a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>);
<a name="l00134"></a>00134 }
<a name="l00137"></a>00137 
<a name="l00138"></a>00138 <span class="comment">//Commands...</span>
<a name="l00139"></a><a class="code" href="classLSDelayChipV1.html#a5b2c2e527b044b128306695828e9fd19">00139</a> <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a5b2c2e527b044b128306695828e9fd19">LSDelayChipV1::resetPumps</a>()
<a name="l00140"></a>00140 {
<a name="l00141"></a>00141     <a class="code" href="classLSDelayChipV1.html#afa626b5d52f8723bcaa3205d1cc7a0f8">configRegBulkWrite</a>(<a class="code" href="LSDelayChipV1_8h.html#a08aff1d45994f410f4f4a6e7e9a13db9">CHARGEPUMP_SOFT_RST</a>,0);
<a name="l00142"></a>00142 }
<a name="l00143"></a>00143 
<a name="l00144"></a><a class="code" href="classLSDelayChipV1.html#a9e04b654e8d6d63efe23fc3b31e15ce6">00144</a> <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a9e04b654e8d6d63efe23fc3b31e15ce6">LSDelayChipV1::bypassMisoMosi</a>(<a class="code" href="ICECALv3_8h.html#adf928e51a60dba0df29d615401cc55a8">U16</a> writeData)
<a name="l00145"></a>00145 {
<a name="l00146"></a>00146     <a class="code" href="classLSDelayChipV1.html#afa626b5d52f8723bcaa3205d1cc7a0f8">configRegBulkWrite</a>(<a class="code" href="ICECALv3_8h.html#a2870f5a3cad23b2b4e7f16faefe8ef2e">SC_MOSI_MISO_BYPASS</a>,writeData);
<a name="l00147"></a>00147 }
<a name="l00148"></a>00148 
<a name="l00149"></a>00149 <span class="comment">//Info...</span>
<a name="l00150"></a><a class="code" href="classLSDelayChipV1.html#a01c1e85ae0d0e031164fe2d47b4f4824">00150</a> <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a01c1e85ae0d0e031164fe2d47b4f4824">LSDelayChipV1::showConfig</a>()
<a name="l00151"></a>00151 {
<a name="l00152"></a>00152     std::string lvdsCurrent;    
<a name="l00153"></a>00153     <span class="keywordflow">if</span>(<a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a709d8d691ef0c8ea5c4c03aac3d851f1">lvdsOutEn</a>)
<a name="l00154"></a>00154     {
<a name="l00155"></a>00155         <span class="keywordflow">if</span>(<a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a0ed9976dd55237ee70ba3621b0f4f58c">locus</a> == <a class="code" href="LSDelayChipV1_8h.html#a9dbbe19d91a9e4d61f7291c5aeabce63a259de7b287dcc219dd6cda577c9ebc4c">LOCUS_3000_UA</a>) lvdsCurrent = <span class="stringliteral">&quot;3.00&quot;</span>;
<a name="l00156"></a>00156         <span class="keywordflow">if</span>(<a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a0ed9976dd55237ee70ba3621b0f4f58c">locus</a> == <a class="code" href="LSDelayChipV1_8h.html#a9dbbe19d91a9e4d61f7291c5aeabce63a06d3e527062b8ffd220520be69e0d4e6">LOCUS_2300_UA</a>) lvdsCurrent = <span class="stringliteral">&quot;2.30&quot;</span>;
<a name="l00157"></a>00157         <span class="keywordflow">if</span>(<a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a0ed9976dd55237ee70ba3621b0f4f58c">locus</a> == <a class="code" href="LSDelayChipV1_8h.html#a9dbbe19d91a9e4d61f7291c5aeabce63aaf5de18b5633f00e781bb74b6c3850d3">LOCUS_1400_UA</a>) lvdsCurrent = <span class="stringliteral">&quot;1.40&quot;</span>;
<a name="l00158"></a>00158         <span class="keywordflow">if</span>(<a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a0ed9976dd55237ee70ba3621b0f4f58c">locus</a> == <a class="code" href="LSDelayChipV1_8h.html#a9dbbe19d91a9e4d61f7291c5aeabce63abcd44318e3bbcab80cb33b8ac0638fa0">LOCUS_0350_UA</a>) lvdsCurrent = <span class="stringliteral">&quot;0.35&quot;</span>;     
<a name="l00159"></a>00159     }
<a name="l00160"></a>00160     <span class="keywordflow">else</span> lvdsCurrent = <span class="stringliteral">&quot;0.00&quot;</span>;
<a name="l00161"></a>00161     
<a name="l00162"></a>00162     <a class="code" href="classObject.html#a644fd329ea4cb85f54fa6846484b84a8">info</a>(<span class="stringliteral">&quot;Configuration register @SPI = 0x&quot;</span> + <a class="code" href="classLSDelayChipV1.html#af7f4d72fb404b6b3d7b41fd01876ed0a">itohs</a>(<a class="code" href="classLSDelayChipV1.html#ab49ac38bf9e7a41ccb89c6725cfcac3a">m_configAddr</a>)              ,<span class="stringliteral">&quot;LSDCv1::showConfig&quot;</span>);
<a name="l00163"></a>00163     <a class="code" href="classObject.html#a644fd329ea4cb85f54fa6846484b84a8">info</a>(<span class="stringliteral">&quot;Integrator clock phase (ns) = &quot;</span> + <a class="code" href="Tools_8h.html#af330027dbdafb9a30768b3613c553e60">itos</a>(<a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#aee4fd08aceaaf19fcb8edfe8aa50f5ab">phaseInt</a>)          ,<span class="stringliteral">&quot;LSDCv1::showConfig&quot;</span>);
<a name="l00164"></a>00164     <a class="code" href="classObject.html#a644fd329ea4cb85f54fa6846484b84a8">info</a>(<span class="stringliteral">&quot;T&amp;H // ADC clock phase (ns) = &quot;</span> + <a class="code" href="Tools_8h.html#af330027dbdafb9a30768b3613c553e60">itos</a>(<a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a2e471f30b32e57270cb2edb0e420cf1b">phaseTaHAdc</a>)       ,<span class="stringliteral">&quot;LSDCv1::showConfig&quot;</span>);  
<a name="l00165"></a>00165     <a class="code" href="classObject.html#a644fd329ea4cb85f54fa6846484b84a8">info</a>(<span class="stringliteral">&quot;LVDS Clock Output enable    = &quot;</span> + <a class="code" href="Tools_8h.html#af330027dbdafb9a30768b3613c553e60">itos</a>((<span class="keywordtype">int</span>)<a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a709d8d691ef0c8ea5c4c03aac3d851f1">lvdsOutEn</a>)    ,<span class="stringliteral">&quot;LSDCv1::showConfig&quot;</span>);
<a name="l00166"></a>00166     <a class="code" href="classObject.html#a644fd329ea4cb85f54fa6846484b84a8">info</a>(<span class="stringliteral">&quot;LVDS Output Current (mA)    = &quot;</span> + lvdsCurrent                        ,<span class="stringliteral">&quot;LSDCv1::showConfig&quot;</span>);
<a name="l00167"></a>00167     <a class="code" href="classObject.html#a644fd329ea4cb85f54fa6846484b84a8">info</a>(<span class="stringliteral">&quot;VControl Output enable      = &quot;</span> + <a class="code" href="Tools_8h.html#af330027dbdafb9a30768b3613c553e60">itos</a>((<span class="keywordtype">int</span>)!<a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a62f72429bde3ede255f6d8dfe1401c37">nVControlEn</a>) ,<span class="stringliteral">&quot;LSDCv1::showConfig&quot;</span>);
<a name="l00168"></a>00168     <a class="code" href="classObject.html#a644fd329ea4cb85f54fa6846484b84a8">info</a>(<span class="stringliteral">&quot;CMOS Pads debug             = &quot;</span> + <a class="code" href="Tools_8h.html#af330027dbdafb9a30768b3613c553e60">itos</a>((<span class="keywordtype">int</span>)<a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>.<a class="code" href="structconfRegData.html#a4e98d082c44e34995224bd242da493d0">padDebug</a>)     ,<span class="stringliteral">&quot;LSDCv1::showConfig&quot;</span>);
<a name="l00169"></a>00169 }
<a name="l00170"></a>00170 
<a name="l00171"></a>00171 
<a name="l00173"></a>00173 <span class="comment">//                      SPI Slave BER Test                         //</span>
<a name="l00175"></a><a class="code" href="classLSDelayChipV1.html#ad0ed8d0797c985d7595fbe56f0da1996">00175</a> <span class="comment"></span><span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#ad0ed8d0797c985d7595fbe56f0da1996">LSDelayChipV1::spiBERTest</a>(<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <span class="keywordtype">long</span> nFrames)
<a name="l00176"></a>00176 {
<a name="l00177"></a>00177     <span class="keywordtype">int</span> i;
<a name="l00178"></a>00178     <a class="code" href="ICECALv3_8h.html#adf928e51a60dba0df29d615401cc55a8">U16</a> writeData = 0x0000;
<a name="l00179"></a>00179     <a class="code" href="ICECALv3_8h.html#adf928e51a60dba0df29d615401cc55a8">U16</a> readData, retry1, retry2, retry3;
<a name="l00180"></a>00180 
<a name="l00181"></a>00181     <a class="code" href="classObject.html#a65cd4fda577711660821fd2cd5a3b4c9">warning</a>(<span class="stringliteral">&quot;Starting SPI BER test...&quot;</span>);
<a name="l00182"></a>00182     <a class="code" href="classLSDelayChipV1.html#a425c69ef8f3d64d93cb1c86b83bbceec">m_nBad</a> = 0;
<a name="l00183"></a>00183     <span class="keywordflow">for</span>(i=0;i&lt;nFrames;i++)
<a name="l00184"></a>00184     {
<a name="l00185"></a>00185         <span class="comment">//I read and write the same register and I check if read data is OK.</span>
<a name="l00186"></a>00186         writeData = rand() + rand();    
<a name="l00187"></a>00187         <a class="code" href="classLSDelayChipV1.html#afa626b5d52f8723bcaa3205d1cc7a0f8">configRegBulkWrite</a>(confRegAddr,writeData);
<a name="l00188"></a>00188 <a class="code" href="classLSDelayChipV1.html#afa626b5d52f8723bcaa3205d1cc7a0f8">configRegBulkWrite</a>(255,writeData);
<a name="l00189"></a>00189         <a class="code" href="classLSDelayChipV1.html#a97a50092ce40f6322db946fc580f7230">configRegBulkRead</a>(confRegAddr); 
<a name="l00190"></a>00190 <a class="code" href="classLSDelayChipV1.html#afa626b5d52f8723bcaa3205d1cc7a0f8">configRegBulkWrite</a>(255,writeData);
<a name="l00191"></a>00191         readData = <a class="code" href="classLSDelayChipV1.html#ae049797212539b231b9722ae69a0491d">m_rxConfigBits</a>;
<a name="l00192"></a>00192         <span class="keywordflow">if</span>(writeData != readData)
<a name="l00193"></a>00193         {
<a name="l00194"></a>00194             <span class="comment">//If data is not OK I check how many bits are wrong.</span>
<a name="l00195"></a>00195             <a class="code" href="classLSDelayChipV1.html#a425c69ef8f3d64d93cb1c86b83bbceec">m_nBad</a>++;
<a name="l00196"></a>00196             <a class="code" href="classObject.html#a65cd4fda577711660821fd2cd5a3b4c9">warning</a>(<span class="stringliteral">&quot;Mismatch: W = 0x&quot;</span> + <a class="code" href="classLSDelayChipV1.html#af7f4d72fb404b6b3d7b41fd01876ed0a">itohs</a>(writeData) + <span class="stringliteral">&quot;, R = 0x&quot;</span> + <a class="code" href="classLSDelayChipV1.html#af7f4d72fb404b6b3d7b41fd01876ed0a">itohs</a>(readData) + <span class="stringliteral">&quot;.&quot;</span>,<span class="stringliteral">&quot;LSDCv1::spiBERTest&quot;</span>);
<a name="l00197"></a>00197             <a class="code" href="classObject.html#aac010553f022165573714b7014a15f0d">debug</a>(<span class="stringliteral">&quot;Retry...&quot;</span>,<span class="stringliteral">&quot;LSDCv1::spiBERTest&quot;</span>);
<a name="l00198"></a>00198             <a class="code" href="classLSDelayChipV1.html#a97a50092ce40f6322db946fc580f7230">configRegBulkRead</a>(confRegAddr);
<a name="l00199"></a>00199 <a class="code" href="classLSDelayChipV1.html#afa626b5d52f8723bcaa3205d1cc7a0f8">configRegBulkWrite</a>(255,writeData);          
<a name="l00200"></a>00200             retry1 = <a class="code" href="classLSDelayChipV1.html#ae049797212539b231b9722ae69a0491d">m_rxConfigBits</a>;
<a name="l00201"></a>00201             <a class="code" href="classLSDelayChipV1.html#a97a50092ce40f6322db946fc580f7230">configRegBulkRead</a>(confRegAddr);
<a name="l00202"></a>00202 <a class="code" href="classLSDelayChipV1.html#afa626b5d52f8723bcaa3205d1cc7a0f8">configRegBulkWrite</a>(255,writeData);          
<a name="l00203"></a>00203             retry2 = <a class="code" href="classLSDelayChipV1.html#ae049797212539b231b9722ae69a0491d">m_rxConfigBits</a>;
<a name="l00204"></a>00204             <a class="code" href="classLSDelayChipV1.html#a97a50092ce40f6322db946fc580f7230">configRegBulkRead</a>(confRegAddr);
<a name="l00205"></a>00205 <a class="code" href="classLSDelayChipV1.html#afa626b5d52f8723bcaa3205d1cc7a0f8">configRegBulkWrite</a>(255,writeData);          
<a name="l00206"></a>00206             retry3 = <a class="code" href="classLSDelayChipV1.html#ae049797212539b231b9722ae69a0491d">m_rxConfigBits</a>;            
<a name="l00207"></a>00207             <span class="keywordflow">if</span>(retry1 == retry2 &amp;&amp; retry1 == retry3 &amp;&amp; retry2 == retry3)
<a name="l00208"></a>00208             {
<a name="l00209"></a>00209                 <span class="keywordflow">if</span>(retry1 == readData)  <a class="code" href="classObject.html#a65cd4fda577711660821fd2cd5a3b4c9">warning</a>(<span class="stringliteral">&quot;It was a Write error!&quot;</span>,<span class="stringliteral">&quot;LSDCv1::spiBERTest&quot;</span>);          
<a name="l00210"></a>00210                 <span class="keywordflow">if</span>(retry1 == writeData) <a class="code" href="classObject.html#a65cd4fda577711660821fd2cd5a3b4c9">warning</a>(<span class="stringliteral">&quot;It was a Read error!&quot;</span>,<span class="stringliteral">&quot;LSDCv1::spiBERTest&quot;</span>);          
<a name="l00211"></a>00211             } 
<a name="l00212"></a>00212         }
<a name="l00213"></a>00213     }
<a name="l00214"></a>00214     <a class="code" href="classLSDelayChipV1.html#a38d35de6a25fb1394ede2f39a4f25a08">m_fer</a> = (double) <a class="code" href="classLSDelayChipV1.html#a425c69ef8f3d64d93cb1c86b83bbceec">m_nBad</a> / nFrames;
<a name="l00215"></a>00215     <a class="code" href="classObject.html#a65cd4fda577711660821fd2cd5a3b4c9">warning</a>(<span class="stringliteral">&quot;SPI BER test finished!!!&quot;</span>);
<a name="l00216"></a>00216     <a class="code" href="classObject.html#a65cd4fda577711660821fd2cd5a3b4c9">warning</a>(<span class="stringliteral">&quot;Bad frames = &quot;</span> + <a class="code" href="Tools_8h.html#af330027dbdafb9a30768b3613c553e60">itos</a>(<a class="code" href="classLSDelayChipV1.html#a425c69ef8f3d64d93cb1c86b83bbceec">m_nBad</a>) + <span class="stringliteral">&quot;/&quot;</span> + <a class="code" href="Tools_8h.html#af330027dbdafb9a30768b3613c553e60">itos</a>(nFrames) + <span class="stringliteral">&quot;.&quot;</span>);
<a name="l00217"></a>00217 }
<a name="l00218"></a>00218 
<a name="l00219"></a>00219 
<a name="l00220"></a><a class="code" href="classLSDelayChipV1.html#a6b772084a850e96b2f9bb5600c29259c">00220</a> <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a6b772084a850e96b2f9bb5600c29259c">LSDelayChipV1::reset</a>(){
<a name="l00221"></a>00221 <span class="comment">/*</span>
<a name="l00222"></a>00222 <span class="comment">  U8* buffer=m_regConfig-&gt;io()-&gt;dataU8();</span>
<a name="l00223"></a>00223 <span class="comment">  buffer[2]=64;</span>
<a name="l00224"></a>00224 <span class="comment">  buffer[1]=0;</span>
<a name="l00225"></a>00225 <span class="comment">  buffer[0]=0;</span>
<a name="l00226"></a>00226 <span class="comment">  if (m_regConfig-&gt;write().isFailure()){</span>
<a name="l00227"></a>00227 <span class="comment">    warning(&quot;LSDelayChipV1 configuration register write failure. Cannot reset LSDelayChipV1&quot;,</span>
<a name="l00228"></a>00228 <span class="comment">        &quot;LSDCv1::write&quot;);</span>
<a name="l00229"></a>00229 <span class="comment">  }</span>
<a name="l00230"></a>00230 <span class="comment">  */</span>
<a name="l00231"></a>00231 }
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 25 Jan 2018 for Cat by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
