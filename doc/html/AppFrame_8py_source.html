<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Cat: /home/eleclhcb/LHCb/lbcat-cmake/CatPython/python/AppFrame.py Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>/home/eleclhcb/LHCb/lbcat-cmake/CatPython/python/AppFrame.py</h1><a href="AppFrame_8py.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a><a class="code" href="namespaceAppFrame.html">00001</a> <span class="comment">#!/usr/bin/env python</span>
<a name="l00002"></a>00002 <span class="comment">#----------------------------------------------------------------------------</span>
<a name="l00003"></a>00003 <span class="comment">#----------------------------------------------------------------------------</span>
<a name="l00004"></a>00004 
<a name="l00005"></a>00005 <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00006"></a>00006 <span class="stringliteral">This program will load and run one of the individual demos in this</span>
<a name="l00007"></a>00007 <span class="stringliteral">directory within its own frame window.  Just specify the module name</span>
<a name="l00008"></a>00008 <span class="stringliteral">on the command line.</span>
<a name="l00009"></a>00009 <span class="stringliteral">&quot;&quot;&quot;</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="keyword">import</span> wx
<a name="l00012"></a>00012 <span class="keyword">import</span> wx.xrc  <span class="keyword">as</span>  xrc
<a name="l00013"></a>00013 <span class="keyword">import</span> images
<a name="l00014"></a>00014 <span class="keyword">import</span> wx.lib.mixins.inspection
<a name="l00015"></a>00015 <span class="keyword">from</span> wx.lib.mixins.treemixin <span class="keyword">import</span> ExpansionState
<a name="l00016"></a>00016 <span class="keyword">import</span> sys, os
<a name="l00017"></a>00017 
<a name="l00018"></a>00018 <span class="keyword">import</span> images
<a name="l00019"></a>00019 <span class="keyword">from</span> tree <span class="keyword">import</span> * 
<a name="l00020"></a>00020 
<a name="l00021"></a>00021 <span class="comment">#from GraphFrame import *</span>
<a name="l00022"></a>00022 <span class="comment">#from LogFrame   import *</span>
<a name="l00023"></a>00023 <span class="keyword">from</span> CfgFrame  <span class="keyword">import</span> *
<a name="l00024"></a>00024 
<a name="l00025"></a>00025 <span class="keyword">from</span> libCatKernel <span class="keyword">import</span> *
<a name="l00026"></a>00026 
<a name="l00027"></a>00027 <span class="keyword">from</span> tools <span class="keyword">import</span> opj
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="keyword">from</span> shell <span class="keyword">import</span> *
<a name="l00030"></a>00030 
<a name="l00031"></a>00031 <span class="comment">#from matplotlib.backends.backend_wxagg import FigureCanvasWxAgg as Canvas</span>
<a name="l00032"></a>00032 <span class="comment">#from matplotlib.backends.backend_wxagg import NavigationToolbar2Wx as Toolbar</span>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="keyword">global</span> cat
<a name="l00035"></a>00035 
<a name="l00036"></a><a class="code" href="namespaceAppFrame.html#aec9ef772bd7a8a963385ddcc6234b85f">00036</a> _objectTypes = [<span class="stringliteral">&quot;Overview&quot;</span>, <span class="stringliteral">&quot;demo&quot;</span>, <span class="stringliteral">&quot;Processus&quot;</span>,<span class="stringliteral">&quot;Doc&quot;</span>, <span class="stringliteral">&quot;Data&quot;</span>,<span class="stringliteral">&quot;Doc&quot;</span>]
<a name="l00037"></a>00037 
<a name="l00038"></a><a class="code" href="namespaceAppFrame.html#a3b7bebaeef2542cd239ab8792c383770">00038</a> _treeList = [
<a name="l00039"></a>00039     (<span class="stringliteral">&apos;Elements&apos;</span>,  []),
<a name="l00040"></a>00040     (<span class="stringliteral">&apos;Processus&apos;</span>, []),
<a name="l00041"></a>00041     (<span class="stringliteral">&apos;Data&apos;</span>,      []),
<a name="l00042"></a>00042     (<span class="stringliteral">&apos;Documents&apos;</span>, []),
<a name="l00043"></a>00043     (<span class="stringliteral">&apos;Libraries&apos;</span>, []),
<a name="l00044"></a>00044 ]
<a name="l00045"></a>00045 
<a name="l00046"></a><a class="code" href="namespaceAppFrame.html#a0e529303fab3d8cdf9ba8bee04b01fe3">00046</a> _windows = [
<a name="l00047"></a>00047             (<span class="stringliteral">&apos;App&apos;</span>,[<span class="keyword">True</span>,[0.01,0.04],[0.30,0.60]]),
<a name="l00048"></a>00048 <span class="comment">#            (&apos;Log&apos;,[False,[0.03,0.45],[0.90,0.50]]),</span>
<a name="l00049"></a>00049 <span class="comment">#            (&apos;Cfg&apos;,[False,[0.41,0.01],[0.58,0.90]]),</span>
<a name="l00050"></a>00050             (<span class="stringliteral">&apos;Gph&apos;</span>,[<span class="keyword">False</span>,[0.13,0.13],[0.75,0.75]])
<a name="l00051"></a>00051             ]
<a name="l00052"></a>00052 
<a name="l00053"></a>00053 <span class="comment">#----------------------------------------------------------------------------</span>
<a name="l00054"></a><a class="code" href="classAppFrame_1_1AppFrame.html">00054</a> <span class="keyword">class </span><a class="code" href="classAppFrame_1_1AppFrame.html">AppFrame</a>(wx.Frame):    
<a name="l00055"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a667d35fae1ebfa2706cfbb31fdf0cbab">00055</a>     overviewText = <span class="stringliteral">&quot;CAT Main Window&quot;</span>
<a name="l00056"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a99de512a9c17c41f6446a0ad51aa492f">00056</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a99de512a9c17c41f6446a0ad51aa492f">__init__</a>(self, app, parent, title): 
<a name="l00057"></a>00057         wx.Frame.__init__(self, parent, wx.NewId(), title, size=(500, 650))
<a name="l00058"></a>00058         
<a name="l00059"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a4ff8d69e79895e94fe0c4457051e98e4">00059</a>         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a4ff8d69e79895e94fe0c4457051e98e4">MB_CONF</a>=wx.NewId()
<a name="l00060"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a87cf4bd947402b005cdc8a8248bc7394">00060</a>         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a87cf4bd947402b005cdc8a8248bc7394">MB_GRAPH</a>=wx.NewId()
<a name="l00061"></a><a class="code" href="classAppFrame_1_1AppFrame.html#aa4182d18214f9bcb8747b30d75566c4a">00061</a>         self.<a class="code" href="classAppFrame_1_1AppFrame.html#aa4182d18214f9bcb8747b30d75566c4a">MB_LOG</a>=wx.NewId()
<a name="l00062"></a>00062 
<a name="l00063"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a92adb26561ea695af9637bdd7cdcffda">00063</a>         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a92adb26561ea695af9637bdd7cdcffda">TB_CONF</a>=wx.NewId()
<a name="l00064"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a054706bdc13f9c9e2b3a74c2cf659271">00064</a>         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a054706bdc13f9c9e2b3a74c2cf659271">TB_GRAPH</a>=wx.NewId()
<a name="l00065"></a><a class="code" href="classAppFrame_1_1AppFrame.html#aa6410672f90bddc15b60bddd6040c65b">00065</a>         self.<a class="code" href="classAppFrame_1_1AppFrame.html#aa6410672f90bddc15b60bddd6040c65b">TB_LOG</a>=wx.NewId()
<a name="l00066"></a>00066 
<a name="l00067"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a0a19a7c7e9a6095cba6813e8d13e9bec">00067</a>         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a0a19a7c7e9a6095cba6813e8d13e9bec">cfgpanels</a>=list()
<a name="l00068"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a7b899e2a2d3601a640bde2ba4a4c09b6">00068</a>         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a7b899e2a2d3601a640bde2ba4a4c09b6">objs</a>=list()
<a name="l00069"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a9b64dca9c80270b7f0e36ee52d5f8c2d">00069</a>         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a9b64dca9c80270b7f0e36ee52d5f8c2d">paths</a>=list()
<a name="l00070"></a>00070 
<a name="l00071"></a>00071         <span class="keyword">global</span> cat
<a name="l00072"></a>00072         cat=app
<a name="l00073"></a>00073         
<a name="l00074"></a><a class="code" href="classAppFrame_1_1AppFrame.html#aadc7ad0c96f9227da506b173bd7b2eee">00074</a>         self.<a class="code" href="classAppFrame_1_1AppFrame.html#aadc7ad0c96f9227da506b173bd7b2eee">path</a>=os.path.join(os.environ.get(<span class="stringliteral">&quot;CATPATH&quot;</span>),<span class="stringliteral">&quot;CatPython&quot;</span>,<span class="stringliteral">&quot;python&quot;</span>)
<a name="l00075"></a>00075         sizeX=wx.SystemSettings.GetMetric( wx.SYS_SCREEN_X );
<a name="l00076"></a>00076         sizeY=wx.SystemSettings.GetMetric( wx.SYS_SCREEN_Y );
<a name="l00077"></a>00077         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a71b05a3223d3ab9595beb5a6158a4658">makeMenuBar</a>()
<a name="l00078"></a>00078         self.<a class="code" href="classAppFrame_1_1AppFrame.html#ab4a7fb9bd8d8d66ab94c61281456f8ff">makeToolBar</a>()
<a name="l00079"></a>00079         res=xrc.XmlResource(os.path.join(self.<a class="code" href="classAppFrame_1_1AppFrame.html#aadc7ad0c96f9227da506b173bd7b2eee">path</a>,<span class="stringliteral">&quot;xrc/AppPanel.xrc&quot;</span>))
<a name="l00080"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a814271a025b2beadb1187e3e9673b0fd">00080</a>         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a814271a025b2beadb1187e3e9673b0fd">panel</a>=res.LoadPanel(self, <span class="stringliteral">&quot;AppPanel&quot;</span>)
<a name="l00081"></a>00081 <span class="comment">#        self.makeFrames()</span>
<a name="l00082"></a>00082         
<a name="l00083"></a>00083         <span class="keywordflow">for</span> window, items <span class="keywordflow">in</span> _windows:
<a name="l00084"></a>00084             show=items[0]
<a name="l00085"></a>00085             Pt=wx.Point(items[1][0]*sizeX,items[1][1]*sizeY)
<a name="l00086"></a>00086             Sz=wx.Size(items[2][0]*sizeX,items[2][1]*sizeY)
<a name="l00087"></a>00087             <span class="keywordflow">if</span> window==<span class="stringliteral">&apos;App&apos;</span>:
<a name="l00088"></a>00088                 self.Move(Pt)
<a name="l00089"></a>00089                 self.SetSize(Sz)
<a name="l00090"></a>00090             <span class="comment"># if window==&apos;Cfg&apos;:</span>
<a name="l00091"></a>00091             <span class="comment">#     self.cfgFrame.Move(Pt)</span>
<a name="l00092"></a>00092             <span class="comment">#     self.cfgFrame.SetSize(Sz)</span>
<a name="l00093"></a>00093             <span class="comment">#     self.cfgState=show</span>
<a name="l00094"></a>00094             <span class="comment">#     self.cfgFrame.Show(show)</span>
<a name="l00095"></a>00095             <span class="comment">#     self.toolBar.ToggleTool(self.TB_CONF, show)</span>
<a name="l00096"></a>00096             <span class="comment">#     menuItem = self.menuBar.FindItemById(self.MB_CONF)</span>
<a name="l00097"></a>00097             <span class="comment">#     menuItem.Check(show) </span>
<a name="l00098"></a>00098                 
<a name="l00099"></a>00099             <span class="comment"># if window==&apos;Gph&apos;:</span>
<a name="l00100"></a>00100             <span class="comment">#     self.gphFrame.Move(Pt)</span>
<a name="l00101"></a>00101             <span class="comment">#     self.gphFrame.SetSize(Sz)</span>
<a name="l00102"></a>00102             <span class="comment">#     self.gphState=show</span>
<a name="l00103"></a>00103             <span class="comment">#     self.gphFrame.Show(show)</span>
<a name="l00104"></a>00104             <span class="comment">#     self.toolBar.ToggleTool(self.TB_GRAPH, show)</span>
<a name="l00105"></a>00105             <span class="comment">#     menuItem = self.menuBar.FindItemById(self.MB_GRAPH)</span>
<a name="l00106"></a>00106             <span class="comment">#     menuItem.Check(show)</span>
<a name="l00107"></a>00107 
<a name="l00108"></a>00108             <span class="comment"># if window==&apos;Log&apos;:</span>
<a name="l00109"></a>00109             <span class="comment">#     self.logFrame.Move(Pt)</span>
<a name="l00110"></a>00110             <span class="comment">#     self.logFrame.SetSize(Sz)</span>
<a name="l00111"></a>00111             <span class="comment">#     self.logState=show</span>
<a name="l00112"></a>00112             <span class="comment">#     self.logFrame.Show(show)</span>
<a name="l00113"></a>00113             <span class="comment">#     self.toolBar.ToggleTool(self.TB_LOG, show)</span>
<a name="l00114"></a>00114             <span class="comment">#     menuItem = self.menuBar.FindItemById(self.MB_LOG)</span>
<a name="l00115"></a>00115             <span class="comment">#     menuItem.Check(show)</span>
<a name="l00116"></a>00116                 
<a name="l00117"></a><a class="code" href="classAppFrame_1_1AppFrame.html#af5e0f9082a6580c786ad0a801dd31685">00117</a>         self.<a class="code" href="classAppFrame_1_1AppFrame.html#af5e0f9082a6580c786ad0a801dd31685">treeContainer</a>=xrc.XRCCTRL(self, <span class="stringliteral">&apos;TreePanel&apos;</span>)
<a name="l00118"></a><a class="code" href="classAppFrame_1_1AppFrame.html#ae267f6f9741bde298362f95ac19c97f2">00118</a>         self.<a class="code" href="classAppFrame_1_1AppFrame.html#ae267f6f9741bde298362f95ac19c97f2">vbox</a>=wx.BoxSizer(wx.VERTICAL)
<a name="l00119"></a>00119         
<a name="l00120"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a1c088e6a3fc661ea80a336100160af9a">00120</a>         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a1c088e6a3fc661ea80a336100160af9a">tree</a>=TreeCtrlPanel(self.<a class="code" href="classAppFrame_1_1AppFrame.html#af5e0f9082a6580c786ad0a801dd31685">treeContainer</a>)
<a name="l00121"></a>00121 
<a name="l00122"></a>00122         self.<a class="code" href="classAppFrame_1_1AppFrame.html#ae267f6f9741bde298362f95ac19c97f2">vbox</a>.Add(self.<a class="code" href="classAppFrame_1_1AppFrame.html#a1c088e6a3fc661ea80a336100160af9a">tree</a>,1,wx.EXPAND)
<a name="l00123"></a>00123         self.<a class="code" href="classAppFrame_1_1AppFrame.html#af5e0f9082a6580c786ad0a801dd31685">treeContainer</a>.SetSizer( self.<a class="code" href="classAppFrame_1_1AppFrame.html#ae267f6f9741bde298362f95ac19c97f2">vbox</a> )
<a name="l00124"></a>00124 
<a name="l00125"></a>00125 <span class="comment">#        self.tree</span>
<a name="l00126"></a>00126 <span class="comment">#        self.treeMap = {}</span>
<a name="l00127"></a>00127 
<a name="l00128"></a>00128 <span class="comment">#        self.BuildTreeImageList()</span>
<a name="l00129"></a>00129         <span class="comment">#self.tree.SetExpansionState(self.expansionState)</span>
<a name="l00130"></a>00130 <span class="comment">#        self.tree.Bind(wx.EVT_TREE_ITEM_EXPANDED, self.OnItemExpanded)</span>
<a name="l00131"></a>00131 <span class="comment">#        self.tree.Bind(wx.EVT_TREE_ITEM_COLLAPSED, self.OnItemCollapsed)</span>
<a name="l00132"></a>00132 <span class="comment">#        self.tree.Bind(wx.EVT_TREE_SEL_CHANGED, self.OnSelChanged)</span>
<a name="l00133"></a>00133 <span class="comment">#        self.tree.Bind(wx.EVT_LEFT_DOWN, self.OnTreeLeftDown)</span>
<a name="l00134"></a>00134 
<a name="l00135"></a><a class="code" href="classAppFrame_1_1AppFrame.html#aac2972aa5a59df4897418cb34afc24bb">00135</a>         self.<a class="code" href="classAppFrame_1_1AppFrame.html#aac2972aa5a59df4897418cb34afc24bb">elementCombo</a>=self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;elementCombo&quot;</span>)
<a name="l00136"></a><a class="code" href="classAppFrame_1_1AppFrame.html#afe103fbb66e1b2a6b7e9a64bd3154881">00136</a>         self.<a class="code" href="classAppFrame_1_1AppFrame.html#afe103fbb66e1b2a6b7e9a64bd3154881">procCombo</a>=self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;procCombo&quot;</span>)
<a name="l00137"></a>00137         self.Bind(wx.EVT_COMBOBOX, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a9dec5963f6ad7c33992ad7ec38567574">updateCombo</a>, id=xrc.XRCID(<span class="stringliteral">&quot;elementCombo&quot;</span>))        
<a name="l00138"></a>00138         self.Bind(wx.EVT_BUTTON, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a6050b747faab481f9728a791ce5c8beb">onLoad</a>, id=xrc.XRCID(<span class="stringliteral">&quot;openConfFile&quot;</span>))
<a name="l00139"></a>00139         self.Bind(wx.EVT_BUTTON, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a17e104bbc8544539fcad9d3f75583438">onEdit</a>, id=xrc.XRCID(<span class="stringliteral">&quot;onEdit&quot;</span>))
<a name="l00140"></a>00140         self.Bind(wx.EVT_SPINCTRL, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a89e4b810a8f76474c63307ab353b95ae">runCtrl</a>, id=xrc.XRCID(<span class="stringliteral">&quot;runCtrl&quot;</span>))
<a name="l00141"></a>00141         self.Bind(wx.EVT_SPINCTRL, self.<a class="code" href="classAppFrame_1_1AppFrame.html#aca8b90caebbf4467fefc23d134e87882">eventCtrl</a>, id=xrc.XRCID(<span class="stringliteral">&quot;eventCtrl&quot;</span>))
<a name="l00142"></a>00142         self.Bind(wx.EVT_SPINCTRL, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a3319c92de38f17675b2debf064add617">printFreq</a>, id=xrc.XRCID(<span class="stringliteral">&quot;printFreq&quot;</span>))
<a name="l00143"></a>00143         self.Bind(wx.EVT_SPINCTRL, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a724d4fb4f7b45e38c3002dafaf31ae3d">plotFreq</a>, id=xrc.XRCID(<span class="stringliteral">&quot;plotFreq&quot;</span>))
<a name="l00144"></a>00144         self.Bind(wx.EVT_TEXT_ENTER, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a40b3826412cf97464898e448b5eb9b00">onEnter</a>, id=xrc.XRCID(<span class="stringliteral">&quot;cmdline&quot;</span>))
<a name="l00145"></a>00145         self.Bind(wx.EVT_BUTTON, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a40b3826412cf97464898e448b5eb9b00">onEnter</a>, id=xrc.XRCID(<span class="stringliteral">&quot;onEnter&quot;</span>))
<a name="l00146"></a>00146         self.Bind(wx.EVT_BUTTON, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a66183c68b99e1849cb3a009aacf46578">onExpand</a>, id=xrc.XRCID(<span class="stringliteral">&quot;onExpand&quot;</span>))
<a name="l00147"></a>00147         self.Bind(wx.EVT_BUTTON, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a7d96700ebc4f5a5fcf51d3d8940bcc54">onCollapse</a>, id=xrc.XRCID(<span class="stringliteral">&quot;onCollapse&quot;</span>))
<a name="l00148"></a>00148         self.Bind(wx.EVT_BUTTON, self.<a class="code" href="classAppFrame_1_1AppFrame.html#ae6dbfb701cee3d4f1ebd953d21934f90">deleteHardware</a>, id=xrc.XRCID(<span class="stringliteral">&quot;deleteHardware&quot;</span>))
<a name="l00149"></a>00149         self.Bind(wx.EVT_TOGGLEBUTTON, self.<a class="code" href="classAppFrame_1_1AppFrame.html#ae06136b61e9fb8d5d8594a78bc5b1beb">onAutoCheck</a>, id=xrc.XRCID(<span class="stringliteral">&quot;autoCheck&quot;</span>))
<a name="l00150"></a>00150         self.Bind(wx.EVT_TOGGLEBUTTON, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a5d4fbe570c7b419c71b5a28e920ef0b3">onStopOnError</a>, id=xrc.XRCID(<span class="stringliteral">&quot;stoponerror&quot;</span>))
<a name="l00151"></a>00151         self.Bind(wx.EVT_TOGGLEBUTTON, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a5fc0d44cdfe82f731a9e8747c0062bdc">onLogCheck</a>, id=xrc.XRCID(<span class="stringliteral">&quot;logCheck&quot;</span>))
<a name="l00152"></a>00152         self.Bind(wx.EVT_TOGGLEBUTTON, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a64fced2976ba648b07d575749a031ce2">onFileCheck</a>, id=xrc.XRCID(<span class="stringliteral">&quot;fileCheck&quot;</span>))
<a name="l00153"></a>00153         self.Bind(wx.EVT_COMBOBOX, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a6a35e9206bd5c1cedcfd8a9af7d6a8c6">updateOutputLevel</a>, id=xrc.XRCID(<span class="stringliteral">&quot;outputLevel&quot;</span>))        
<a name="l00154"></a>00154         self.<a class="code" href="classAppFrame_1_1AppFrame.html#aa01fc511db7b94a62d550a0087d750b9">update</a>()
<a name="l00155"></a>00155                 
<a name="l00156"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">00156</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(self, xmlid):
<a name="l00157"></a>00157         <span class="stringliteral">&apos;&apos;&apos;Retrieves the given control (within a dialog) by its xmlid&apos;&apos;&apos;</span>
<a name="l00158"></a>00158         control = self.FindWindowById(xrc.XRCID(xmlid))
<a name="l00159"></a>00159 <span class="comment">#        print xmlid</span>
<a name="l00160"></a>00160 <span class="comment">#        print xrc.XRCID(xmlid)</span>
<a name="l00161"></a>00161 <span class="comment">#        print control</span>
<a name="l00162"></a>00162         <span class="keywordflow">if</span> control == <span class="keywordtype">None</span> <span class="keywordflow">and</span> self.GetMenuBar() != <span class="keywordtype">None</span>:  <span class="comment"># see if on the menubar</span>
<a name="l00163"></a>00163             control = self.GetMenuBar().FindItemById(xrc.XRCID(xmlid))
<a name="l00164"></a>00164         <span class="keyword">assert</span> control != <span class="keywordtype">None</span>, <span class="stringliteral">&apos;Programming error: a control with xml id &apos;</span> + xmlid + <span class="stringliteral">&apos; was not found.&apos;</span>
<a name="l00165"></a>00165         <span class="keywordflow">return</span> control
<a name="l00166"></a>00166     
<a name="l00167"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a71b05a3223d3ab9595beb5a6158a4658">00167</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a71b05a3223d3ab9595beb5a6158a4658">makeMenuBar</a>(self):
<a name="l00168"></a>00168         MB_FILE=wx.NewId()
<a name="l00169"></a>00169         MB_CLOSE=wx.NewId()
<a name="l00170"></a>00170         <span class="comment">#</span>
<a name="l00171"></a>00171         file=wx.Menu()
<a name="l00172"></a>00172         file.Append(MB_FILE,<span class="stringliteral">&quot;&amp;File&quot;</span>,<span class="stringliteral">&quot;Open new configuration file&quot;</span>)
<a name="l00173"></a>00173         file.Append(MB_CLOSE,<span class="stringliteral">&quot;&amp;Close&quot;</span>,<span class="stringliteral">&quot;Close configuration file&quot;</span>)
<a name="l00174"></a>00174         file.Append(wx.ID_EXIT, <span class="stringliteral">&quot;E&amp;xit&quot;</span>, <span class="stringliteral">&quot;Terminate the program&quot;</span>)
<a name="l00175"></a>00175         windows=wx.Menu()
<a name="l00176"></a>00176 <span class="comment">#        windows.AppendCheckItem(self.MB_CONF,&quot;&amp;Configuration window&quot;,&quot;Configuration window&quot;)</span>
<a name="l00177"></a>00177 <span class="comment">#        windows.AppendCheckItem(self.MB_GRAPH,&quot;&amp;Graphic window&quot;,&quot;Graphic window&quot;)</span>
<a name="l00178"></a>00178 <span class="comment">#        windows.AppendCheckItem(self.MB_LOG,&quot;&amp;Log window&quot;,&quot;Log window&quot;)</span>
<a name="l00179"></a>00179         help=wx.Menu()
<a name="l00180"></a>00180         help.Append(wx.ID_ABOUT, <span class="stringliteral">&quot;&amp;About&quot;</span>,<span class="stringliteral">&quot;More information about this program&quot;</span>)
<a name="l00181"></a>00181         help.AppendSeparator()
<a name="l00182"></a>00182         help.Append(wx.ID_HELP, <span class="stringliteral">&quot;&amp;Help&quot;</span>, <span class="stringliteral">&quot;CAT application help&quot;</span>)
<a name="l00183"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a9cbeda3bc1a78e934f1aebcd2c85e403">00183</a>         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a9cbeda3bc1a78e934f1aebcd2c85e403">menuBar</a>=wx.MenuBar(wx.MB_DOCKABLE)
<a name="l00184"></a>00184         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a9cbeda3bc1a78e934f1aebcd2c85e403">menuBar</a>.Append(file   , <span class="stringliteral">&quot;&amp;File&quot;</span>)
<a name="l00185"></a>00185         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a9cbeda3bc1a78e934f1aebcd2c85e403">menuBar</a>.Append(windows, <span class="stringliteral">&quot;&amp;Windows&quot;</span>)
<a name="l00186"></a>00186         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a9cbeda3bc1a78e934f1aebcd2c85e403">menuBar</a>.Append(help   , <span class="stringliteral">&quot;&amp;Help&quot;</span>)
<a name="l00187"></a>00187         self.SetMenuBar(self.<a class="code" href="classAppFrame_1_1AppFrame.html#a9cbeda3bc1a78e934f1aebcd2c85e403">menuBar</a>)
<a name="l00188"></a>00188         self.Bind(wx.EVT_MENU, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a5b5cb5f928c331e97fd7ffcee5458bcf">onExit</a>      , id=wx.ID_EXIT )
<a name="l00189"></a>00189         self.Bind(wx.EVT_MENU, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a8a7202f9eb527cf4513d8b69b385a172">onAbout</a>     , id=wx.ID_ABOUT )
<a name="l00190"></a>00190         self.Bind(wx.EVT_MENU, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a11b969659be042b78227df2738371b6a">onHelp</a>      , id=wx.ID_HELP )
<a name="l00191"></a>00191 <span class="comment">#        self.Bind(wx.EVT_MENU, self.onCheckGraph, id=self.MB_GRAPH )</span>
<a name="l00192"></a>00192 <span class="comment">#        self.Bind(wx.EVT_MENU, self.onCheckLog  , id=self.MB_LOG   )</span>
<a name="l00193"></a>00193 <span class="comment">#        self.Bind(wx.EVT_MENU, self.onCheckConf , id=self.MB_CONF  )</span>
<a name="l00194"></a>00194         self.Bind(wx.EVT_MENU, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a6050b747faab481f9728a791ce5c8beb">onLoad</a>      , id=MB_FILE  )
<a name="l00195"></a>00195         self.Bind(wx.EVT_MENU, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a5f83beacf1c4e5bd2a27e3c778c96c1e">onClose</a>     , id=MB_CLOSE  )
<a name="l00196"></a>00196         
<a name="l00197"></a><a class="code" href="classAppFrame_1_1AppFrame.html#ab4a7fb9bd8d8d66ab94c61281456f8ff">00197</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#ab4a7fb9bd8d8d66ab94c61281456f8ff">makeToolBar</a>(self):
<a name="l00198"></a>00198         TB_OPEN=wx.NewId()
<a name="l00199"></a>00199         TB_RELOAD=wx.NewId()
<a name="l00200"></a>00200         TB_CONFIGURE=wx.NewId()
<a name="l00201"></a>00201         TB_INIT=wx.NewId()
<a name="l00202"></a>00202         TB_DELETE=wx.NewId()
<a name="l00203"></a>00203         TB_START=wx.NewId()
<a name="l00204"></a>00204         TB_SINGLE=wx.NewId()
<a name="l00205"></a>00205         TB_EXIT=wx.NewId()
<a name="l00206"></a>00206         <span class="comment">#</span>
<a name="l00207"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a2fd6329df31bbd37f1239f34a567d71a">00207</a>         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a2fd6329df31bbd37f1239f34a567d71a">toolBar</a> = self.CreateToolBar(wx.TB_DOCKABLE)
<a name="l00208"></a>00208         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a2fd6329df31bbd37f1239f34a567d71a">toolBar</a>.AddLabelTool(TB_OPEN  , <span class="stringliteral">&apos;&apos;</span>, wx.Bitmap(os.path.join(self.<a class="code" href="classAppFrame_1_1AppFrame.html#aadc7ad0c96f9227da506b173bd7b2eee">path</a>,<span class="stringliteral">&quot;xrc/icons/fileopen.png&quot;</span>)))
<a name="l00209"></a>00209         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a2fd6329df31bbd37f1239f34a567d71a">toolBar</a>.AddLabelTool(TB_RELOAD, <span class="stringliteral">&apos;&apos;</span>, wx.Bitmap(os.path.join(self.<a class="code" href="classAppFrame_1_1AppFrame.html#aadc7ad0c96f9227da506b173bd7b2eee">path</a>,<span class="stringliteral">&quot;xrc/icons/reload.png&quot;</span>)))
<a name="l00210"></a>00210         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a2fd6329df31bbd37f1239f34a567d71a">toolBar</a>.AddLabelTool(TB_CONFIGURE, <span class="stringliteral">&apos;&apos;</span>, wx.Bitmap(os.path.join(self.<a class="code" href="classAppFrame_1_1AppFrame.html#aadc7ad0c96f9227da506b173bd7b2eee">path</a>,<span class="stringliteral">&quot;xrc/icons/conf.png&quot;</span>)))
<a name="l00211"></a>00211         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a2fd6329df31bbd37f1239f34a567d71a">toolBar</a>.AddLabelTool(TB_INIT, <span class="stringliteral">&apos;&apos;</span>, wx.Bitmap(os.path.join(self.<a class="code" href="classAppFrame_1_1AppFrame.html#aadc7ad0c96f9227da506b173bd7b2eee">path</a>,<span class="stringliteral">&quot;xrc/icons/init.png&quot;</span>)))
<a name="l00212"></a>00212         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a2fd6329df31bbd37f1239f34a567d71a">toolBar</a>.AddLabelTool(TB_DELETE, <span class="stringliteral">&apos;&apos;</span>, wx.Bitmap(os.path.join(self.<a class="code" href="classAppFrame_1_1AppFrame.html#aadc7ad0c96f9227da506b173bd7b2eee">path</a>,<span class="stringliteral">&quot;xrc/icons/delete.png&quot;</span>)))
<a name="l00213"></a>00213         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a2fd6329df31bbd37f1239f34a567d71a">toolBar</a>.AddSeparator()
<a name="l00214"></a>00214 <span class="comment">#        self.toolBar.AddCheckLabelTool(self.TB_CONF, &apos;&apos;, wx.Bitmap(os.path.join(self.path,&quot;xrc/icons/config.png&quot;)))</span>
<a name="l00215"></a>00215         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a2fd6329df31bbd37f1239f34a567d71a">toolBar</a>.AddCheckLabelTool(self.<a class="code" href="classAppFrame_1_1AppFrame.html#a054706bdc13f9c9e2b3a74c2cf659271">TB_GRAPH</a>, <span class="stringliteral">&apos;&apos;</span>, wx.Bitmap(os.path.join(self.<a class="code" href="classAppFrame_1_1AppFrame.html#aadc7ad0c96f9227da506b173bd7b2eee">path</a>,<span class="stringliteral">&quot;xrc/icons/graph.png&quot;</span>)))
<a name="l00216"></a>00216 <span class="comment">#        self.toolBar.AddCheckLabelTool(self.TB_LOG, &apos;&apos;, wx.Bitmap(os.path.join(self.path,&quot;xrc/icons/log.png&quot;)))</span>
<a name="l00217"></a>00217         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a2fd6329df31bbd37f1239f34a567d71a">toolBar</a>.AddSeparator()
<a name="l00218"></a>00218         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a2fd6329df31bbd37f1239f34a567d71a">toolBar</a>.AddLabelTool(TB_START, <span class="stringliteral">&apos;&apos;</span>, wx.Bitmap(os.path.join(self.<a class="code" href="classAppFrame_1_1AppFrame.html#aadc7ad0c96f9227da506b173bd7b2eee">path</a>,<span class="stringliteral">&quot;xrc/icons/start.png&quot;</span>)))
<a name="l00219"></a>00219         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a2fd6329df31bbd37f1239f34a567d71a">toolBar</a>.AddLabelTool(TB_SINGLE, <span class="stringliteral">&apos;&apos;</span>, wx.Bitmap(os.path.join(self.<a class="code" href="classAppFrame_1_1AppFrame.html#aadc7ad0c96f9227da506b173bd7b2eee">path</a>,<span class="stringliteral">&quot;xrc/icons/single.png&quot;</span>)))
<a name="l00220"></a>00220         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a2fd6329df31bbd37f1239f34a567d71a">toolBar</a>.AddSeparator()
<a name="l00221"></a>00221         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a2fd6329df31bbd37f1239f34a567d71a">toolBar</a>.AddLabelTool(wx.ID_EXIT, <span class="stringliteral">&apos;&apos;</span>, wx.Bitmap(os.path.join(self.<a class="code" href="classAppFrame_1_1AppFrame.html#aadc7ad0c96f9227da506b173bd7b2eee">path</a>,<span class="stringliteral">&quot;xrc/icons/exit.png&quot;</span>)))
<a name="l00222"></a>00222         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a2fd6329df31bbd37f1239f34a567d71a">toolBar</a>.Realize()
<a name="l00223"></a>00223         self.Bind(wx.EVT_TOOL, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a5b5cb5f928c331e97fd7ffcee5458bcf">onExit</a>      , id=wx.ID_EXIT)
<a name="l00224"></a>00224 <span class="comment">#        self.Bind(wx.EVT_TOOL, self.onCheckGraph, id=self.TB_GRAPH)</span>
<a name="l00225"></a>00225 <span class="comment">#        self.Bind(wx.EVT_TOOL, self.onCheckLog  , id=self.TB_LOG)</span>
<a name="l00226"></a>00226 <span class="comment">#        self.Bind(wx.EVT_TOOL, self.onCheckConf , id=self.TB_CONF)</span>
<a name="l00227"></a>00227         self.Bind(wx.EVT_TOOL, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a6050b747faab481f9728a791ce5c8beb">onLoad</a> , id=TB_OPEN)
<a name="l00228"></a>00228         self.Bind(wx.EVT_TOOL, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a245f8c716ec863af51493af54f2cd7c6">onReLoad</a> , id=TB_RELOAD)
<a name="l00229"></a>00229         self.Bind(wx.EVT_TOOL, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a4d4525e84c9ababf7b5c80893c803fcc">onConfigure</a> , id=TB_CONFIGURE)
<a name="l00230"></a>00230         self.Bind(wx.EVT_TOOL, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a0f55c13ed518ba308a375dfc306fdee9">onInit</a> , id=TB_INIT)
<a name="l00231"></a>00231         self.Bind(wx.EVT_TOOL, self.<a class="code" href="classAppFrame_1_1AppFrame.html#ad5e9ba93cb8013656d6500774cf60b53">onDelete</a> , id=TB_DELETE)
<a name="l00232"></a>00232         self.Bind(wx.EVT_TOOL, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a49804b67199c453697ac5a4bcecc920e">onStart</a> , id=TB_START)
<a name="l00233"></a>00233         self.Bind(wx.EVT_TOOL, self.<a class="code" href="classAppFrame_1_1AppFrame.html#af7be990776d498b34f698dc9451b4883">onSingle</a> , id=TB_SINGLE)
<a name="l00234"></a>00234 
<a name="l00235"></a>00235 <span class="comment">#    def makeFrames(self):</span>
<a name="l00236"></a>00236 <span class="comment">#        self.logFrame=LogFrame(cat, self, &quot;Log window&quot;)</span>
<a name="l00237"></a>00237 <span class="comment">#        self.cfgFrame=ConfFrame(cat, self, &quot;Configuration window&quot;)</span>
<a name="l00238"></a>00238 <span class="comment">#        self.gphFrame=GraphFrame(cat, self, &quot;Graphical window&quot;)</span>
<a name="l00239"></a>00239         
<a name="l00240"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a4e0dcbd50e131b0098cf1611ad25db6c">00240</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a4e0dcbd50e131b0098cf1611ad25db6c">onIdle</a>(self, event):
<a name="l00241"></a>00241         <span class="stringliteral">&apos;&apos;&apos;Responds to idle time in the system&apos;&apos;&apos;</span>
<a name="l00242"></a>00242         <span class="comment"># when the timer says it&apos;s time, we do the actual downloading in the main thread (wx doesn&apos;t work well in secondary threads)</span>
<a name="l00243"></a>00243         <span class="keywordflow">print</span> <span class="stringliteral">&quot;onIdle&quot;</span>
<a name="l00244"></a>00244         
<a name="l00245"></a><a class="code" href="classAppFrame_1_1AppFrame.html#aaa21bd6cb6d29c0ff8b86aee2b55d146">00245</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#aaa21bd6cb6d29c0ff8b86aee2b55d146">onCloseConfirm</a>(self, event):
<a name="l00246"></a>00246         <span class="stringliteral">&apos;&apos;&apos;Closes the application&apos;&apos;&apos;</span>
<a name="l00247"></a>00247         dlg = wx.MessageDialog(self, <span class="stringliteral">&quot;Exit the program?&quot;</span>, <span class="stringliteral">&quot;Exit&quot;</span>, wx.YES_NO | wx.ICON_QUESTION)
<a name="l00248"></a>00248         <span class="keywordflow">if</span> dlg.ShowModal() == wx.ID_YES:
<a name="l00249"></a>00249             dlg.Destroy()  <span class="comment"># frame</span>
<a name="l00250"></a>00250         self.Destroy()
<a name="l00251"></a>00251 
<a name="l00252"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a5f83beacf1c4e5bd2a27e3c778c96c1e">00252</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a5f83beacf1c4e5bd2a27e3c778c96c1e">onClose</a>(self, event):
<a name="l00253"></a>00253         <span class="stringliteral">&apos;&apos;&apos;Closes the application&apos;&apos;&apos;</span>
<a name="l00254"></a>00254         self.Destroy()
<a name="l00255"></a>00255 
<a name="l00256"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a5b5cb5f928c331e97fd7ffcee5458bcf">00256</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a5b5cb5f928c331e97fd7ffcee5458bcf">onExit</a>(self, event):
<a name="l00257"></a>00257         <span class="stringliteral">&apos;&apos;&apos;Exit the app&apos;&apos;&apos;</span>
<a name="l00258"></a>00258         self.Close(<span class="keyword">True</span>)
<a name="l00259"></a>00259 <span class="comment">#        exit(2)</span>
<a name="l00260"></a>00260 
<a name="l00261"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a11b969659be042b78227df2738371b6a">00261</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a11b969659be042b78227df2738371b6a">onHelp</a>(self, event):
<a name="l00262"></a>00262         <span class="stringliteral">&apos;&apos;&apos;Help&apos;&apos;&apos;</span>
<a name="l00263"></a>00263         <span class="keywordflow">print</span> <span class="stringliteral">&quot;help&quot;</span>
<a name="l00264"></a>00264         
<a name="l00265"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a8a7202f9eb527cf4513d8b69b385a172">00265</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a8a7202f9eb527cf4513d8b69b385a172">onAbout</a>(self, event):
<a name="l00266"></a>00266         <span class="stringliteral">&apos;&apos;&apos;About&apos;&apos;&apos;</span>
<a name="l00267"></a>00267         <span class="keywordflow">print</span> <span class="stringliteral">&quot;about&quot;</span>
<a name="l00268"></a>00268 
<a name="l00269"></a><a class="code" href="classAppFrame_1_1AppFrame.html#ae06136b61e9fb8d5d8594a78bc5b1beb">00269</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#ae06136b61e9fb8d5d8594a78bc5b1beb">onAutoCheck</a>(self, event):
<a name="l00270"></a>00270         cat.options().setRunNumberMgr(self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;autoCheck&quot;</span>).GetValue())
<a name="l00271"></a>00271         <span class="keywordflow">print</span> cat.options().runNumberMgr()
<a name="l00272"></a>00272         
<a name="l00273"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a5d4fbe570c7b419c71b5a28e920ef0b3">00273</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a5d4fbe570c7b419c71b5a28e920ef0b3">onStopOnError</a>(self, event):
<a name="l00274"></a>00274         cat.options().setStopOnError(self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;stoponerror&quot;</span>).GetValue())
<a name="l00275"></a>00275 
<a name="l00276"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a64fced2976ba648b07d575749a031ce2">00276</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a64fced2976ba648b07d575749a031ce2">onFileCheck</a>(self, event):
<a name="l00277"></a>00277         cat.options().setDataStorage(self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;fileCheck&quot;</span>).GetValue())
<a name="l00278"></a>00278         <span class="keywordflow">print</span> cat.options().dataStorage()
<a name="l00279"></a>00279         
<a name="l00280"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a5fc0d44cdfe82f731a9e8747c0062bdc">00280</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a5fc0d44cdfe82f731a9e8747c0062bdc">onLogCheck</a>(self, event):
<a name="l00281"></a>00281         cat.options().setLogStorage(self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;logCheck&quot;</span>).GetValue())
<a name="l00282"></a>00282         <span class="keywordflow">print</span> cat.options().logStorage()
<a name="l00283"></a>00283         
<a name="l00284"></a><a class="code" href="classAppFrame_1_1AppFrame.html#aca8b90caebbf4467fefc23d134e87882">00284</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#aca8b90caebbf4467fefc23d134e87882">eventCtrl</a>(self,event):
<a name="l00285"></a>00285         cat.options().setNEvtMax(self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;eventCtrl&quot;</span>).GetValue()) 
<a name="l00286"></a>00286 
<a name="l00287"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a89e4b810a8f76474c63307ab353b95ae">00287</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a89e4b810a8f76474c63307ab353b95ae">runCtrl</a>(self,event):
<a name="l00288"></a>00288         cat.options().setRunNumber(self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;runCtrl&quot;</span>).GetValue()) 
<a name="l00289"></a>00289 
<a name="l00290"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a3319c92de38f17675b2debf064add617">00290</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a3319c92de38f17675b2debf064add617">printFreq</a>(self,event):
<a name="l00291"></a>00291         cat.options().setPrintFreq(self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;printFreq&quot;</span>).GetValue()) 
<a name="l00292"></a>00292 
<a name="l00293"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a724d4fb4f7b45e38c3002dafaf31ae3d">00293</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a724d4fb4f7b45e38c3002dafaf31ae3d">plotFreq</a>(self,event):
<a name="l00294"></a>00294         cat.options().setPlotFreq(self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;plotFreq&quot;</span>).GetValue()) 
<a name="l00295"></a>00295 
<a name="l00296"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a40b3826412cf97464898e448b5eb9b00">00296</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a40b3826412cf97464898e448b5eb9b00">onEnter</a>(self,event):
<a name="l00297"></a>00297         cmd=self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;cmdline&quot;</span>).GetValue()
<a name="l00298"></a>00298         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;cmdline&quot;</span>).SetValue(<span class="stringliteral">&quot;&quot;</span>) 
<a name="l00299"></a>00299         exec(cmd)
<a name="l00300"></a>00300  
<a name="l00301"></a>00301     <span class="comment"># Graphical Window management    </span>
<a name="l00302"></a>00302     <span class="comment"># def onCheckGraph(self, event):</span>
<a name="l00303"></a>00303     <span class="comment">#     state=not self.gphState</span>
<a name="l00304"></a>00304     <span class="comment">#     self.gphState=state</span>
<a name="l00305"></a>00305     <span class="comment">#     self.gphFrame.Show(state)</span>
<a name="l00306"></a>00306     <span class="comment">#     self.toolBar.ToggleTool(self.TB_GRAPH, state)</span>
<a name="l00307"></a>00307     <span class="comment">#     menuItem = self.menuBar.FindItemById(self.MB_GRAPH)</span>
<a name="l00308"></a>00308     <span class="comment">#     menuItem.Check(state)</span>
<a name="l00309"></a>00309 
<a name="l00310"></a>00310     <span class="comment"># Log Window management    </span>
<a name="l00311"></a>00311     <span class="comment"># def onCheckLog(self, event):</span>
<a name="l00312"></a>00312     <span class="comment">#     state=not self.logState</span>
<a name="l00313"></a>00313     <span class="comment">#     self.logState=state</span>
<a name="l00314"></a>00314     <span class="comment">#     self.logFrame.Show(state)</span>
<a name="l00315"></a>00315     <span class="comment">#     self.toolBar.ToggleTool(self.TB_LOG, state)</span>
<a name="l00316"></a>00316     <span class="comment">#     menuItem = self.menuBar.FindItemById(self.MB_LOG)</span>
<a name="l00317"></a>00317     <span class="comment">#     menuItem.Check(state)</span>
<a name="l00318"></a>00318         
<a name="l00319"></a>00319     <span class="comment"># Configuration Window management    </span>
<a name="l00320"></a>00320     <span class="comment"># def onCheckConf(self, event):</span>
<a name="l00321"></a>00321     <span class="comment">#     state=not self.cfgState</span>
<a name="l00322"></a>00322     <span class="comment">#     self.cfgState=state</span>
<a name="l00323"></a>00323     <span class="comment">#     self.cfgFrame.Show(state)</span>
<a name="l00324"></a>00324     <span class="comment">#     self.toolBar.ToggleTool(self.TB_CONF, state)</span>
<a name="l00325"></a>00325     <span class="comment">#     menuItem = self.menuBar.FindItemById(self.MB_CONF)</span>
<a name="l00326"></a>00326     <span class="comment">#     menuItem.Check(state)</span>
<a name="l00327"></a>00327 
<a name="l00328"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a6050b747faab481f9728a791ce5c8beb">00328</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a6050b747faab481f9728a791ce5c8beb">onLoad</a>(self, event):
<a name="l00329"></a>00329         path=[]
<a name="l00330"></a>00330         dlg = wx.FileDialog(
<a name="l00331"></a>00331             self, message=<span class="stringliteral">&quot;Choose a file&quot;</span>,
<a name="l00332"></a>00332             defaultDir=os.getcwd(), 
<a name="l00333"></a>00333             defaultFile=<span class="stringliteral">&quot;&quot;</span>,
<a name="l00334"></a>00334             wildcard=<span class="stringliteral">&quot;Python source (*.py)|*.py|&quot;</span> <span class="stringliteral">&quot;All files (*.*)|*.*&quot;</span>,
<a name="l00335"></a>00335             style=wx.OPEN | wx.CHANGE_DIR
<a name="l00336"></a>00336             )
<a name="l00337"></a>00337 
<a name="l00338"></a>00338         <span class="comment"># Show the dialog and retrieve the user response. If it is the OK response, </span>
<a name="l00339"></a>00339         <span class="comment"># process the data.</span>
<a name="l00340"></a>00340         <span class="keywordflow">if</span> dlg.ShowModal() == wx.ID_OK:
<a name="l00341"></a>00341             <span class="comment"># This returns a Python list of files that were selected.</span>
<a name="l00342"></a>00342             path = dlg.GetPaths()
<a name="l00343"></a>00343         <span class="comment"># Destroy the dialog. Don&apos;t do this until you are done with it!</span>
<a name="l00344"></a>00344         <span class="comment"># BAD things can happen otherwise!</span>
<a name="l00345"></a>00345         dlg.Destroy()
<a name="l00346"></a>00346         <span class="keywordflow">if</span> len(path)==1:
<a name="l00347"></a>00347             filename=str(path[0])
<a name="l00348"></a>00348             execfile(filename)
<a name="l00349"></a>00349             cat.options().setDefFile(filename)
<a name="l00350"></a>00350             cat.computer().tree()
<a name="l00351"></a>00351             self.<a class="code" href="classAppFrame_1_1AppFrame.html#aa01fc511db7b94a62d550a0087d750b9">update</a>()
<a name="l00352"></a>00352             
<a name="l00353"></a>00353     <span class="comment"># def onEdit(self, event):</span>
<a name="l00354"></a>00354     <span class="comment">#     objtype=self.tree.GetItem()</span>
<a name="l00355"></a>00355     <span class="comment">#     if (objtype[1]==&apos;Element&apos;):</span>
<a name="l00356"></a>00356     <span class="comment">#         self.cfgFrame.onEdit(cat.computer().child(objtype[0]),objtype[0],&apos;element&apos;)</span>
<a name="l00357"></a>00357     <span class="comment">#         self.cfgFrame.Show(True)</span>
<a name="l00358"></a>00358     <span class="comment">#         self.cfgFrame.show=True            </span>
<a name="l00359"></a>00359     <span class="comment">#     if (objtype[1]==&apos;Processus&apos;):</span>
<a name="l00360"></a>00360     <span class="comment">#         list=[]</span>
<a name="l00361"></a>00361     <span class="comment">#         listPtr=cat.procDb().list()</span>
<a name="l00362"></a>00362     <span class="comment">#         for proc in range(len(listPtr)):</span>
<a name="l00363"></a>00363     <span class="comment">#             if (objtype[0]==listPtr[proc].name()):</span>
<a name="l00364"></a>00364     <span class="comment">#                 processus=listPtr[proc]</span>
<a name="l00365"></a>00365     <span class="comment">#         self.cfgFrame.onEdit(processus,objtype[0],&apos;proc&apos;)</span>
<a name="l00366"></a>00366     <span class="comment">#         self.cfgFrame.Show(True)</span>
<a name="l00367"></a>00367     <span class="comment">#         self.cfgFrame.show=True            </span>
<a name="l00368"></a>00368 
<a name="l00369"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a17e104bbc8544539fcad9d3f75583438">00369</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a17e104bbc8544539fcad9d3f75583438">onEdit</a>(self, event):
<a name="l00370"></a>00370         objtype=self.<a class="code" href="classAppFrame_1_1AppFrame.html#a1c088e6a3fc661ea80a336100160af9a">tree</a>.GetItem()
<a name="l00371"></a>00371 <span class="comment">#        print &quot;objtype is : &quot;,objtype</span>
<a name="l00372"></a>00372         objpanel=-1
<a name="l00373"></a>00373         <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(len(self.<a class="code" href="classAppFrame_1_1AppFrame.html#a7b899e2a2d3601a640bde2ba4a4c09b6">objs</a>)):
<a name="l00374"></a>00374             <span class="keywordflow">if</span> objtype[0]==self.<a class="code" href="classAppFrame_1_1AppFrame.html#a9b64dca9c80270b7f0e36ee52d5f8c2d">paths</a>[i]:
<a name="l00375"></a>00375                 self.<a class="code" href="classAppFrame_1_1AppFrame.html#a0a19a7c7e9a6095cba6813e8d13e9bec">cfgpanels</a>[objpanel].update()
<a name="l00376"></a>00376                 self.<a class="code" href="classAppFrame_1_1AppFrame.html#a0a19a7c7e9a6095cba6813e8d13e9bec">cfgpanels</a>[objpanel].Show(<span class="keyword">True</span>)
<a name="l00377"></a>00377                 <span class="keywordflow">return</span>
<a name="l00378"></a>00378             
<a name="l00379"></a>00379         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a9b64dca9c80270b7f0e36ee52d5f8c2d">paths</a>.append(objtype[0])
<a name="l00380"></a>00380         <span class="keywordflow">if</span> (objtype[1]==<span class="stringliteral">&apos;Element&apos;</span>):
<a name="l00381"></a>00381             self.<a class="code" href="classAppFrame_1_1AppFrame.html#a7b899e2a2d3601a640bde2ba4a4c09b6">objs</a>.append(cat.computer().child(objtype[0]))
<a name="l00382"></a>00382             self.<a class="code" href="classAppFrame_1_1AppFrame.html#a0a19a7c7e9a6095cba6813e8d13e9bec">cfgpanels</a>.append(CfgFrame(cat, self, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a7b899e2a2d3601a640bde2ba4a4c09b6">objs</a>[-1], objtype[0], <span class="stringliteral">&quot;element&quot;</span>))
<a name="l00383"></a>00383 
<a name="l00384"></a>00384         <span class="keywordflow">if</span> (objtype[1]==<span class="stringliteral">&apos;Processus&apos;</span>):
<a name="l00385"></a>00385             list = cat.procDb().list()
<a name="l00386"></a>00386             <span class="keywordflow">for</span> p <span class="keywordflow">in</span> range(len(list)):
<a name="l00387"></a>00387                 <span class="keywordflow">if</span> list[p].name()==objtype[0]:
<a name="l00388"></a>00388                     self.<a class="code" href="classAppFrame_1_1AppFrame.html#a7b899e2a2d3601a640bde2ba4a4c09b6">objs</a>.append(list[p])
<a name="l00389"></a>00389                     self.<a class="code" href="classAppFrame_1_1AppFrame.html#a0a19a7c7e9a6095cba6813e8d13e9bec">cfgpanels</a>.append(CfgFrame(cat, self, self.<a class="code" href="classAppFrame_1_1AppFrame.html#a7b899e2a2d3601a640bde2ba4a4c09b6">objs</a>[-1], objtype[0], <span class="stringliteral">&quot;proc&quot;</span>))
<a name="l00390"></a>00390                     <span class="keywordflow">break</span>
<a name="l00391"></a>00391                 
<a name="l00392"></a><a class="code" href="classAppFrame_1_1AppFrame.html#ae6dbfb701cee3d4f1ebd953d21934f90">00392</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#ae6dbfb701cee3d4f1ebd953d21934f90">deleteHardware</a>(self, event):
<a name="l00393"></a>00393         objtype=self.<a class="code" href="classAppFrame_1_1AppFrame.html#a1c088e6a3fc661ea80a336100160af9a">tree</a>.GetItem()
<a name="l00394"></a>00394         cat.warning(<span class="stringliteral">&quot;Removing object &quot;</span>+objtype[0]+<span class="stringliteral">&quot; of type &quot;</span>+objtype[1])
<a name="l00395"></a>00395         element=cat.computer().child(objtype[0])
<a name="l00396"></a>00396         <span class="keywordflow">if</span> (element!=0):
<a name="l00397"></a>00397             cat.computer().delChild(element)
<a name="l00398"></a>00398         self.<a class="code" href="classAppFrame_1_1AppFrame.html#aa01fc511db7b94a62d550a0087d750b9">update</a>()
<a name="l00399"></a>00399                         
<a name="l00400"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a66183c68b99e1849cb3a009aacf46578">00400</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a66183c68b99e1849cb3a009aacf46578">onExpand</a>(self, event):
<a name="l00401"></a>00401         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a1c088e6a3fc661ea80a336100160af9a">tree</a>.ExpandAll()
<a name="l00402"></a>00402 
<a name="l00403"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a7d96700ebc4f5a5fcf51d3d8940bcc54">00403</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a7d96700ebc4f5a5fcf51d3d8940bcc54">onCollapse</a>(self, event):
<a name="l00404"></a>00404         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a1c088e6a3fc661ea80a336100160af9a">tree</a>.CollapseAll()
<a name="l00405"></a>00405         
<a name="l00406"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a245f8c716ec863af51493af54f2cd7c6">00406</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a245f8c716ec863af51493af54f2cd7c6">onReLoad</a>(self, event):
<a name="l00407"></a>00407         reload()
<a name="l00408"></a>00408         cat.computer().tree()
<a name="l00409"></a>00409         self.<a class="code" href="classAppFrame_1_1AppFrame.html#aa01fc511db7b94a62d550a0087d750b9">update</a>()
<a name="l00410"></a>00410 
<a name="l00411"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a4d4525e84c9ababf7b5c80893c803fcc">00411</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a4d4525e84c9ababf7b5c80893c803fcc">onConfigure</a>(self, event):
<a name="l00412"></a>00412         <span class="keywordflow">print</span> <span class="stringliteral">&quot;Not implemented yet&quot;</span>
<a name="l00413"></a>00413         
<a name="l00414"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a0f55c13ed518ba308a375dfc306fdee9">00414</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a0f55c13ed518ba308a375dfc306fdee9">onInit</a>(self, event):
<a name="l00415"></a>00415         init()
<a name="l00416"></a>00416 
<a name="l00417"></a><a class="code" href="classAppFrame_1_1AppFrame.html#ad5e9ba93cb8013656d6500774cf60b53">00417</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#ad5e9ba93cb8013656d6500774cf60b53">onDelete</a>(self, event):
<a name="l00418"></a>00418         cat.computer().clear()        
<a name="l00419"></a>00419         
<a name="l00420"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a49804b67199c453697ac5a4bcecc920e">00420</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a49804b67199c453697ac5a4bcecc920e">onStart</a>(self, event):
<a name="l00421"></a>00421         cat.options().setStorageDir(str(self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;fileCtrl&quot;</span>).GetValue()))
<a name="l00422"></a>00422         cat.options().setStoragePath(str(self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;pathCtrl&quot;</span>).GetValue()))
<a name="l00423"></a>00423         item=self.<a class="code" href="classAppFrame_1_1AppFrame.html#aac2972aa5a59df4897418cb34afc24bb">elementCombo</a>.GetSelection()
<a name="l00424"></a>00424         element=cat.computer().child(self.<a class="code" href="classAppFrame_1_1AppFrame.html#ac23e75e7a9c9995eb55d7962342acd15">listElement</a>[item])
<a name="l00425"></a>00425         list=cat.procDb().list(element)
<a name="l00426"></a>00426         processus=list[self.<a class="code" href="classAppFrame_1_1AppFrame.html#afe103fbb66e1b2a6b7e9a64bd3154881">procCombo</a>.GetSelection()]
<a name="l00427"></a>00427         nevt=self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;eventCtrl&quot;</span>).GetValue()
<a name="l00428"></a>00428 
<a name="l00429"></a>00429         dlg = wx.ProgressDialog(processus.title(),
<a name="l00430"></a>00430                                 processus.name(),
<a name="l00431"></a>00431                                 maximum = abs(nevt),
<a name="l00432"></a>00432                                 parent=self,
<a name="l00433"></a>00433                                 style = wx.PD_CAN_ABORT
<a name="l00434"></a>00434                                 | wx.PD_APP_MODAL
<a name="l00435"></a>00435                                 | wx.PD_ELAPSED_TIME
<a name="l00436"></a>00436                                 | wx.PD_ESTIMATED_TIME
<a name="l00437"></a>00437                                 | wx.PD_REMAINING_TIME
<a name="l00438"></a>00438                                 )
<a name="l00439"></a>00439         plts   = <span class="keywordtype">None</span>
<a name="l00440"></a>00440         module = <span class="keywordtype">None</span>
<a name="l00441"></a>00441         processus.setElement(element)
<a name="l00442"></a>00442         wrap = wrapper(cat, processus, <span class="stringliteral">&quot;proc&quot;</span>)
<a name="l00443"></a>00443 
<a name="l00444"></a>00444         online  = cat.options().plotFreq()
<a name="l00445"></a>00445         
<a name="l00446"></a>00446         <span class="keywordflow">if</span> (wrap.ok):
<a name="l00447"></a>00447             module = wrap.GetActive()
<a name="l00448"></a>00448             <span class="keywordflow">if</span> module <span class="keywordflow">and</span> online!=0 :
<a name="l00449"></a>00449                 plts = module.createPlots(cat, processus, cat.options().runNumber())        
<a name="l00450"></a>00450 
<a name="l00451"></a>00451         keepGoing = <span class="keyword">True</span>
<a name="l00452"></a>00452 
<a name="l00453"></a>00453         timing = -1
<a name="l00454"></a>00454         <span class="keywordflow">if</span> (nevt&lt;0):
<a name="l00455"></a>00455             timing = time.time()
<a name="l00456"></a>00456         evt    = abs(nevt)
<a name="l00457"></a>00457 
<a name="l00458"></a>00458         ievt=0 
<a name="l00459"></a>00459         status=Code.SUCCESS
<a name="l00460"></a>00460         dlg.Update(ievt, <span class="stringliteral">&quot; Initializing&quot;</span>+processus.name())
<a name="l00461"></a>00461         cat.prepare(processus.name(),element,nevt)
<a name="l00462"></a>00462         <span class="keywordflow">while</span> (keepGoing):
<a name="l00463"></a>00463             ievt+=1
<a name="l00464"></a>00464             status=cat.loop()
<a name="l00465"></a>00465             <span class="keywordflow">if</span> online&gt;0 <span class="keywordflow">and</span> plt:
<a name="l00466"></a>00466                 <span class="keywordflow">if</span> module <span class="keywordflow">and</span> ievt%online==0:
<a name="l00467"></a>00467                     module.updatePlots(plts, processus)
<a name="l00468"></a>00468             <span class="keywordflow">if</span> timing&gt;=0:
<a name="l00469"></a>00469                 elapsed = time.time() - timing
<a name="l00470"></a>00470                 (keepGoing, skip)=dlg.Update(elapsed,<span class="stringliteral">&quot;Running &quot;</span>+processus.name())
<a name="l00471"></a>00471                 <span class="keywordflow">if</span> elapsed &gt; evt: keepGoing = <span class="keyword">False</span>
<a name="l00472"></a>00472             <span class="keywordflow">else</span>:
<a name="l00473"></a>00473                 (keepGoing, skip)=dlg.Update(ievt,<span class="stringliteral">&quot;Running &quot;</span>+processus.name())
<a name="l00474"></a>00474                 <span class="keywordflow">if</span> ievt &gt;= evt: keepGoing = <span class="keyword">False</span>
<a name="l00475"></a>00475         dlg.Update(evt,<span class="stringliteral">&quot;Finalizing &quot;</span>+processus.name())
<a name="l00476"></a>00476         cat.terminate()
<a name="l00477"></a>00477 
<a name="l00478"></a>00478         <span class="keywordflow">if</span> module <span class="keywordflow">and</span> online==0:
<a name="l00479"></a>00479             plts = module.createPlots(cat, processus, cat.options().runNumber())        
<a name="l00480"></a>00480             <span class="keywordflow">if</span> plts :
<a name="l00481"></a>00481                 module.updatePlots(plts, processus)
<a name="l00482"></a>00482         
<a name="l00483"></a>00483         dlg.Destroy()
<a name="l00484"></a>00484         
<a name="l00485"></a>00485 <span class="comment">#        self.plot(processus,False)</span>
<a name="l00486"></a>00486 <span class="comment">#        self.getControl(&quot;runCtrl&quot;).SetValue(cat.options().runNumber())</span>
<a name="l00487"></a>00487                 
<a name="l00488"></a>00488         
<a name="l00489"></a><a class="code" href="classAppFrame_1_1AppFrame.html#af7be990776d498b34f698dc9451b4883">00489</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#af7be990776d498b34f698dc9451b4883">onSingle</a>(self, event):
<a name="l00490"></a>00490         cat.options().setStorageDir(str(self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;fileCtrl&quot;</span>).GetValue()))
<a name="l00491"></a>00491         cat.options().setStoragePath(str(self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;pathCtrl&quot;</span>).GetValue()))
<a name="l00492"></a>00492         item=self.<a class="code" href="classAppFrame_1_1AppFrame.html#aac2972aa5a59df4897418cb34afc24bb">elementCombo</a>.GetSelection()
<a name="l00493"></a>00493         element=cat.computer().child(self.<a class="code" href="classAppFrame_1_1AppFrame.html#ac23e75e7a9c9995eb55d7962342acd15">listElement</a>[item])
<a name="l00494"></a>00494         list=cat.procDb().list(element)
<a name="l00495"></a>00495         processus=list[self.<a class="code" href="classAppFrame_1_1AppFrame.html#afe103fbb66e1b2a6b7e9a64bd3154881">procCombo</a>.GetSelection()]
<a name="l00496"></a>00496         cat.prepare(processus.name(),element,1)
<a name="l00497"></a>00497         cat.loop()
<a name="l00498"></a>00498         cat.terminate()
<a name="l00499"></a>00499         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a16fc60c79fde4dd7d9591ed3f21c3c01">plot</a>(processus,<span class="keyword">False</span>)
<a name="l00500"></a>00500         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;runCtrl&quot;</span>).SetValue(cat.options().runNumber())
<a name="l00501"></a>00501 
<a name="l00502"></a>00502 
<a name="l00503"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a16fc60c79fde4dd7d9591ed3f21c3c01">00503</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a16fc60c79fde4dd7d9591ed3f21c3c01">plot</a>(self, proc, force):
<a name="l00504"></a>00504         self.gphFrame.onPlot(proc)
<a name="l00505"></a>00505         <span class="keywordflow">if</span> (force):
<a name="l00506"></a>00506             self.gphFrame.Show(<span class="keyword">True</span>)
<a name="l00507"></a>00507             self.gphFrame.show=<span class="keyword">True</span>            
<a name="l00508"></a>00508 
<a name="l00509"></a>00509         
<a name="l00510"></a>00510     <span class="comment">#---------------------------------------------</span>
<a name="l00511"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a44b82952390e069b184afd5986991ba4">00511</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a44b82952390e069b184afd5986991ba4">BuildElementList</a>(self):
<a name="l00512"></a>00512         <span class="keyword">def </span>sublevel(list, element):
<a name="l00513"></a>00513             <span class="keywordflow">if</span> (element.hasChildren()):
<a name="l00514"></a>00514                 newlist=[]
<a name="l00515"></a>00515                 children=element.children()
<a name="l00516"></a>00516                 <span class="keywordflow">for</span> child <span class="keywordflow">in</span> range(len(children)):
<a name="l00517"></a>00517                     newlist.append(children[child].name())
<a name="l00518"></a>00518                     <span class="keywordflow">if</span> (children[child].hasChildren()):
<a name="l00519"></a>00519                         sublevel(newlist,children[child])
<a name="l00520"></a>00520                 list.append(newlist)
<a name="l00521"></a>00521         list=[]
<a name="l00522"></a>00522         list.append(cat.computer().name())
<a name="l00523"></a>00523         sublevel(list,cat.computer())
<a name="l00524"></a>00524         <span class="keywordflow">return</span> list
<a name="l00525"></a>00525 
<a name="l00526"></a>00526     <span class="comment">#---------------------------------------------</span>
<a name="l00527"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a7e349c4603f3f7ca0c5aa77a89d253dd">00527</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a7e349c4603f3f7ca0c5aa77a89d253dd">BuildProcessusList</a>(self):
<a name="l00528"></a>00528         list=[]
<a name="l00529"></a>00529         listPtr=cat.procDb().list()
<a name="l00530"></a>00530         <span class="keywordflow">for</span> proc <span class="keywordflow">in</span> range(len(listPtr)):
<a name="l00531"></a>00531             list.append(listPtr[proc].name())
<a name="l00532"></a>00532         <span class="keywordflow">return</span> list
<a name="l00533"></a>00533         
<a name="l00534"></a><a class="code" href="classAppFrame_1_1AppFrame.html#aa01fc511db7b94a62d550a0087d750b9">00534</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#aa01fc511db7b94a62d550a0087d750b9">update</a>(self):
<a name="l00535"></a>00535         <span class="comment"># Update options</span>
<a name="l00536"></a>00536         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;cdffileCtrl&quot;</span>).SetValue(cat.options().defFile());
<a name="l00537"></a>00537         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;printFreq&quot;</span>).SetValue(cat.options().printFreq())
<a name="l00538"></a>00538         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;plotFreq&quot;</span>).SetValue(cat.options().plotFreq())
<a name="l00539"></a>00539         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;eventCtrl&quot;</span>).SetValue(cat.options().nEvtMax())
<a name="l00540"></a>00540         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;runCtrl&quot;</span>).SetValue(cat.options().runNumber())
<a name="l00541"></a>00541         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;errorCtrl&quot;</span>).SetValue(str(cat.options().nErrors()))
<a name="l00542"></a>00542         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;fileCtrl&quot;</span>).SetValue(cat.options().storageDir())
<a name="l00543"></a>00543         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;pathCtrl&quot;</span>).SetValue(cat.options().storagePath())
<a name="l00544"></a>00544         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;stoponerror&quot;</span>).SetValue(cat.options().stopOnError())
<a name="l00545"></a>00545         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;autoCheck&quot;</span>).SetValue(cat.options().runNumberMgr())
<a name="l00546"></a>00546         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;fileCheck&quot;</span>).SetValue(cat.options().dataStorage())
<a name="l00547"></a>00547         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;logCheck&quot;</span>).SetValue(cat.options().logStorage())
<a name="l00548"></a>00548         level=cat.options().logOutputLevel()
<a name="l00549"></a>00549         combo=self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;outputLevel&quot;</span>)
<a name="l00550"></a>00550         <span class="keywordflow">if</span> level==MsgLevel.VERBOSE:
<a name="l00551"></a>00551             combo.SetSelection(0)
<a name="l00552"></a>00552         <span class="keywordflow">if</span> level==MsgLevel.DEBUG:
<a name="l00553"></a>00553             combo.SetSelection(1)
<a name="l00554"></a>00554         <span class="keywordflow">if</span> level==MsgLevel.INFO:
<a name="l00555"></a>00555             combo.SetSelection(2)
<a name="l00556"></a>00556         <span class="keywordflow">if</span> level==MsgLevel.WARNING:
<a name="l00557"></a>00557             combo.SetSelection(3)
<a name="l00558"></a>00558         <span class="keywordflow">if</span> level==MsgLevel.ERROR:
<a name="l00559"></a>00559             combo.SetSelection(4)
<a name="l00560"></a>00560         <span class="keywordflow">if</span> level==MsgLevel.FATAL:
<a name="l00561"></a>00561             combo.SetSelection(5)
<a name="l00562"></a>00562         <span class="comment"># Tree control</span>
<a name="l00563"></a>00563 <span class="comment">#        self.RecreateTree()        </span>
<a name="l00564"></a>00564 <span class="comment">#        self.tree.SelectItem(self.root)</span>
<a name="l00565"></a>00565         self.<a class="code" href="classAppFrame_1_1AppFrame.html#aac2972aa5a59df4897418cb34afc24bb">elementCombo</a>.Clear()
<a name="l00566"></a><a class="code" href="classAppFrame_1_1AppFrame.html#ac23e75e7a9c9995eb55d7962342acd15">00566</a>         self.<a class="code" href="classAppFrame_1_1AppFrame.html#ac23e75e7a9c9995eb55d7962342acd15">listElement</a>=self.<a class="code" href="classAppFrame_1_1AppFrame.html#a5281ab025cc34273c414c06e58f1507d">ElementList</a>()
<a name="l00567"></a>00567         index   = 0
<a name="l00568"></a>00568         current = 0
<a name="l00569"></a>00569         <span class="keywordflow">for</span> i <span class="keywordflow">in</span> self.<a class="code" href="classAppFrame_1_1AppFrame.html#ac23e75e7a9c9995eb55d7962342acd15">listElement</a>:
<a name="l00570"></a>00570             <span class="keywordflow">if</span> (i==cat.current().path(<span class="stringliteral">&quot;&quot;</span>)):
<a name="l00571"></a>00571                 current=index
<a name="l00572"></a>00572             index=index+1
<a name="l00573"></a>00573             self.<a class="code" href="classAppFrame_1_1AppFrame.html#aac2972aa5a59df4897418cb34afc24bb">elementCombo</a>.Append(i)
<a name="l00574"></a>00574         self.<a class="code" href="classAppFrame_1_1AppFrame.html#aac2972aa5a59df4897418cb34afc24bb">elementCombo</a>.SetSelection(current)
<a name="l00575"></a>00575         self.<a class="code" href="classAppFrame_1_1AppFrame.html#afeddbb4dfa87ced566b15d905eed4756">procComboUpdate</a>(cat.current());
<a name="l00576"></a>00576         self.<a class="code" href="classAppFrame_1_1AppFrame.html#a1c088e6a3fc661ea80a336100160af9a">tree</a>.RecreateTree(self.<a class="code" href="classAppFrame_1_1AppFrame.html#a44b82952390e069b184afd5986991ba4">BuildElementList</a>(), self.<a class="code" href="classAppFrame_1_1AppFrame.html#a7e349c4603f3f7ca0c5aa77a89d253dd">BuildProcessusList</a>())
<a name="l00577"></a>00577 
<a name="l00578"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a5281ab025cc34273c414c06e58f1507d">00578</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a5281ab025cc34273c414c06e58f1507d">ElementList</a>(self):
<a name="l00579"></a>00579         <span class="keyword">def </span>sublevel(list, element):
<a name="l00580"></a>00580             <span class="keywordflow">if</span> (element.hasChildren()):
<a name="l00581"></a>00581                 children=element.children()
<a name="l00582"></a>00582                 <span class="keywordflow">for</span> child <span class="keywordflow">in</span> range(len(children)):
<a name="l00583"></a>00583                     <span class="keywordflow">if</span> (len(cat.procDb().list(children[child]))&gt;0):
<a name="l00584"></a>00584                        list.append(children[child].path(<span class="stringliteral">&quot;&quot;</span>))
<a name="l00585"></a>00585                     <span class="keywordflow">if</span> (children[child].hasChildren()):
<a name="l00586"></a>00586                         sublevel(list,children[child])
<a name="l00587"></a>00587 
<a name="l00588"></a>00588         list=[]
<a name="l00589"></a>00589         list.append(cat.computer().path(<span class="stringliteral">&quot;&quot;</span>))
<a name="l00590"></a>00590         sublevel(list,cat.computer())
<a name="l00591"></a>00591         <span class="keywordflow">return</span> list
<a name="l00592"></a>00592             
<a name="l00593"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a9dec5963f6ad7c33992ad7ec38567574">00593</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a9dec5963f6ad7c33992ad7ec38567574">updateCombo</a>(self, event):
<a name="l00594"></a>00594         item=event.GetSelection()
<a name="l00595"></a>00595         <span class="keywordflow">if</span> item==0:
<a name="l00596"></a>00596             element=cat.computer()
<a name="l00597"></a>00597         <span class="keywordflow">else</span>:
<a name="l00598"></a>00598             element=cat.computer().child(self.<a class="code" href="classAppFrame_1_1AppFrame.html#ac23e75e7a9c9995eb55d7962342acd15">listElement</a>[item])
<a name="l00599"></a>00599         self.<a class="code" href="classAppFrame_1_1AppFrame.html#afeddbb4dfa87ced566b15d905eed4756">procComboUpdate</a>(element)
<a name="l00600"></a>00600         
<a name="l00601"></a><a class="code" href="classAppFrame_1_1AppFrame.html#a6a35e9206bd5c1cedcfd8a9af7d6a8c6">00601</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#a6a35e9206bd5c1cedcfd8a9af7d6a8c6">updateOutputLevel</a>(self, event):
<a name="l00602"></a>00602         level=self.<a class="code" href="classAppFrame_1_1AppFrame.html#a339ae421d03a4184269c6b7e3537ab08">getControl</a>(<span class="stringliteral">&quot;outputLevel&quot;</span>).GetValue()
<a name="l00603"></a>00603         <span class="keywordflow">if</span> level==<span class="stringliteral">&quot;Verbose&quot;</span>:
<a name="l00604"></a>00604             cat.options().setLogOutputLevel(MsgLevel.VERBOSE)
<a name="l00605"></a>00605         <span class="keywordflow">if</span> level==<span class="stringliteral">&quot;Debug&quot;</span>:
<a name="l00606"></a>00606             cat.options().setLogOutputLevel(MsgLevel.DEBUG)            
<a name="l00607"></a>00607         <span class="keywordflow">if</span> level==<span class="stringliteral">&quot;Info&quot;</span>:
<a name="l00608"></a>00608             cat.options().setLogOutputLevel(MsgLevel.INFO)
<a name="l00609"></a>00609         <span class="keywordflow">if</span> level==<span class="stringliteral">&quot;Warning&quot;</span>:
<a name="l00610"></a>00610             cat.options().setLogOutputLevel(MsgLevel.WARNING)            
<a name="l00611"></a>00611         <span class="keywordflow">if</span> level==<span class="stringliteral">&quot;Error&quot;</span>:
<a name="l00612"></a>00612             cat.options().setLogOutputLevel(MsgLevel.ERROR)            
<a name="l00613"></a>00613         <span class="keywordflow">if</span> level==<span class="stringliteral">&quot;Fatal Error&quot;</span>:
<a name="l00614"></a>00614             cat.options().setLogOutputLevel(MsgLevel.FATAL)
<a name="l00615"></a>00615         <span class="keywordflow">print</span> cat.options().logOutputLevel()
<a name="l00616"></a>00616 
<a name="l00617"></a><a class="code" href="classAppFrame_1_1AppFrame.html#afeddbb4dfa87ced566b15d905eed4756">00617</a>     <span class="keyword">def </span><a class="code" href="classAppFrame_1_1AppFrame.html#afeddbb4dfa87ced566b15d905eed4756">procComboUpdate</a>(self, element):
<a name="l00618"></a>00618         self.<a class="code" href="classAppFrame_1_1AppFrame.html#afe103fbb66e1b2a6b7e9a64bd3154881">procCombo</a>.Clear()
<a name="l00619"></a>00619         self.<a class="code" href="classAppFrame_1_1AppFrame.html#afe103fbb66e1b2a6b7e9a64bd3154881">procCombo</a>.Remove(0,self.<a class="code" href="classAppFrame_1_1AppFrame.html#afe103fbb66e1b2a6b7e9a64bd3154881">procCombo</a>.GetLastPosition()+1)
<a name="l00620"></a>00620         list=cat.procDb().list(element)
<a name="l00621"></a>00621         <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(len(list)):
<a name="l00622"></a>00622             self.<a class="code" href="classAppFrame_1_1AppFrame.html#afe103fbb66e1b2a6b7e9a64bd3154881">procCombo</a>.Append(list[i].name())
<a name="l00623"></a>00623         self.<a class="code" href="classAppFrame_1_1AppFrame.html#afe103fbb66e1b2a6b7e9a64bd3154881">procCombo</a>.SetSelection(0)    
<a name="l00624"></a>00624  
<a name="l00625"></a>00625 <span class="comment">#----------------------------------------------------------------------------</span>
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 25 Jan 2018 for Cat by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
