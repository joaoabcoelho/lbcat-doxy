<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Cat: /home/eleclhcb/LHCb/lbcat-cmake/CatBcn/inc/LSDelayChipV1.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javaScript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.6.1 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <img id="MSearchSelect" src="search/search.png"
             onmouseover="return searchBox.OnSearchSelectShow()"
             onmouseout="return searchBox.OnSearchSelectHide()"
             alt=""/>
        <input type="text" id="MSearchField" value="Search" accesskey="S"
             onfocus="searchBox.OnSearchFieldFocus(true)" 
             onblur="searchBox.OnSearchFieldFocus(false)" 
             onkeyup="searchBox.OnSearchFieldChange(event)"/>
        <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
        </div>
      </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>/home/eleclhcb/LHCb/lbcat-cmake/CatBcn/inc/LSDelayChipV1.h</h1><a href="LSDelayChipV1_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//$Id: LSDelayChipV1.cpp,v 1.0 2013/11/11 13:11:24 jmauricio Exp $</span>
<a name="l00002"></a>00002 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00003"></a>00003 <span class="comment">//</span>
<a name="l00004"></a>00004 <span class="comment">//  Package    : LSDelayChipV1</span>
<a name="l00005"></a>00005 <span class="comment">//</span>
<a name="l00006"></a>00006 <span class="comment">//  Description:</span>
<a name="l00007"></a>00007 <span class="comment">//</span>
<a name="l00008"></a>00008 <span class="comment">//  Author(s)  : Joan Mauricio</span>
<a name="l00009"></a>00009 <span class="comment">//  Date       : 2013/11/11</span>
<a name="l00010"></a>00010 <span class="comment">//</span>
<a name="l00011"></a>00011 <span class="comment">//------------------------------------------------------------------------------</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="preprocessor">#ifndef __LSDelayChipV1_H_</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span><span class="preprocessor">#define __LSDelayChipV1_H_</span>
<a name="l00015"></a>00015 <span class="preprocessor"></span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &quot;<a class="code" href="Element_8h.html">Element.h</a>&quot;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &quot;<a class="code" href="Register_8h.html">Register.h</a>&quot;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &lt;stdlib.h&gt;</span> 
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="comment">//Delay Line (standalone) SPI @ mapping.</span>
<a name="l00021"></a>00021 <span class="comment">//Integrator + Track &amp; Hold Clock configuration registers.</span>
<a name="l00022"></a><a class="code" href="LSDelayChipV1_8h.html#a27e55e95b788d2cc312a439198c26971">00022</a> <span class="preprocessor">#define INT_TH_0_CONFREG_ADDR   0x00</span>
<a name="l00023"></a><a class="code" href="LSDelayChipV1_8h.html#a771c79d3381641a3bc709f4a69efcc28">00023</a> <span class="preprocessor"></span><span class="preprocessor">#define INT_TH_1_CONFREG_ADDR   0x02</span>
<a name="l00024"></a><a class="code" href="LSDelayChipV1_8h.html#a0a4946654da8e2065cc0b461f99d9bc8">00024</a> <span class="preprocessor"></span><span class="preprocessor">#define INT_TH_2_CONFREG_ADDR   0x10</span>
<a name="l00025"></a><a class="code" href="LSDelayChipV1_8h.html#af8cc01f53a4a2d46901b9f32372ab6ea">00025</a> <span class="preprocessor"></span><span class="preprocessor">#define INT_TH_3_CONFREG_ADDR   0x12</span>
<a name="l00026"></a>00026 <span class="preprocessor"></span><span class="comment">//ADC Clock configuration registers.</span>
<a name="l00027"></a><a class="code" href="LSDelayChipV1_8h.html#ad1c6f1ce476a54a95469cd130dffa074">00027</a> <span class="preprocessor">#define ADC_0_CONFREG_ADDR      0x01</span>
<a name="l00028"></a><a class="code" href="LSDelayChipV1_8h.html#a83aa641dd89900461bdc2ed428f2bce9">00028</a> <span class="preprocessor"></span><span class="preprocessor">#define ADC_1_CONFREG_ADDR      0x03</span>
<a name="l00029"></a><a class="code" href="LSDelayChipV1_8h.html#abd577ee5c75174c74fc6886c1eaad80a">00029</a> <span class="preprocessor"></span><span class="preprocessor">#define ADC_2_CONFREG_ADDR      0x11</span>
<a name="l00030"></a><a class="code" href="LSDelayChipV1_8h.html#a19e4f86f88864d8c249bd537ef628f92">00030</a> <span class="preprocessor"></span><span class="preprocessor">#define ADC_3_CONFREG_ADDR      0x13</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span><span class="comment">//DLL channel status registers.</span>
<a name="l00032"></a><a class="code" href="LSDelayChipV1_8h.html#adca5cc0cd52b4fe9328f3471b0b9c613">00032</a> <span class="preprocessor">#define DLL_0_STATREG_ADDR      0xA0</span>
<a name="l00033"></a><a class="code" href="LSDelayChipV1_8h.html#a39e2f4a0151fcdf29a28e917154fa039">00033</a> <span class="preprocessor"></span><span class="preprocessor">#define DLL_1_STATREG_ADDR      0xA1</span>
<a name="l00034"></a><a class="code" href="LSDelayChipV1_8h.html#a11ad4f0e8a466fc2da33308f351b9054">00034</a> <span class="preprocessor"></span><span class="preprocessor">#define DLL_2_STATREG_ADDR      0xB0</span>
<a name="l00035"></a><a class="code" href="LSDelayChipV1_8h.html#ad23a65fd56cf8a5ba711228025ab5e48">00035</a> <span class="preprocessor"></span><span class="preprocessor">#define DLL_3_STATREG_ADDR      0xB1</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span>
<a name="l00037"></a>00037 <span class="comment">//SPI commands.</span>
<a name="l00038"></a><a class="code" href="LSDelayChipV1_8h.html#a08aff1d45994f410f4f4a6e7e9a13db9">00038</a> <span class="preprocessor">#define CHARGEPUMP_SOFT_RST     0x40</span>
<a name="l00039"></a><a class="code" href="LSDelayChipV1_8h.html#a2870f5a3cad23b2b4e7f16faefe8ef2e">00039</a> <span class="preprocessor"></span><span class="preprocessor">#define SC_MOSI_MISO_BYPASS     0xFF</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span>
<a name="l00041"></a><a class="code" href="LSDelayChipV1_8h.html#a811024d35b9b8a41095b1f583b649e56">00041</a>     <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span>  <a class="code" href="ICECALv3_8h.html#a811024d35b9b8a41095b1f583b649e56">U32</a>;
<a name="l00042"></a><a class="code" href="LSDelayChipV1_8h.html#adf928e51a60dba0df29d615401cc55a8">00042</a>     <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="ICECALv3_8h.html#adf928e51a60dba0df29d615401cc55a8">U16</a>;
<a name="l00043"></a><a class="code" href="LSDelayChipV1_8h.html#a3cb25ca6f51f003950f9625ff05536fc">00043</a>     <span class="keyword">typedef</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>  <a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a>;
<a name="l00044"></a>00044 
<a name="l00045"></a><a class="code" href="structconfRegData.html">00045</a>     <span class="keyword">struct </span><a class="code" href="structconfRegData.html">confRegData</a>{
<a name="l00046"></a><a class="code" href="structconfRegData.html#a709d8d691ef0c8ea5c4c03aac3d851f1">00046</a>         <span class="keywordtype">bool</span> <a class="code" href="structconfRegData.html#a709d8d691ef0c8ea5c4c03aac3d851f1">lvdsOutEn</a>;
<a name="l00047"></a><a class="code" href="structconfRegData.html#a62f72429bde3ede255f6d8dfe1401c37">00047</a>         <span class="keywordtype">bool</span> <a class="code" href="structconfRegData.html#a62f72429bde3ede255f6d8dfe1401c37">nVControlEn</a>;
<a name="l00048"></a><a class="code" href="structconfRegData.html#a4e98d082c44e34995224bd242da493d0">00048</a>         <span class="keywordtype">bool</span> <a class="code" href="structconfRegData.html#a4e98d082c44e34995224bd242da493d0">padDebug</a>;
<a name="l00049"></a><a class="code" href="structconfRegData.html#aee4fd08aceaaf19fcb8edfe8aa50f5ab">00049</a>         <a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a>   <a class="code" href="structconfRegData.html#aee4fd08aceaaf19fcb8edfe8aa50f5ab">phaseInt</a>;
<a name="l00050"></a><a class="code" href="structconfRegData.html#a2e471f30b32e57270cb2edb0e420cf1b">00050</a>         <a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a>   <a class="code" href="structconfRegData.html#a2e471f30b32e57270cb2edb0e420cf1b">phaseTaHAdc</a>;
<a name="l00051"></a><a class="code" href="structconfRegData.html#a0ed9976dd55237ee70ba3621b0f4f58c">00051</a>         <a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> <a class="code" href="structconfRegData.html#a0ed9976dd55237ee70ba3621b0f4f58c">locus</a>;
<a name="l00052"></a>00052     };
<a name="l00053"></a>00053 
<a name="l00054"></a><a class="code" href="structstatRegData.html">00054</a>     <span class="keyword">struct </span><a class="code" href="structstatRegData.html">statRegData</a>{
<a name="l00055"></a><a class="code" href="structstatRegData.html#acde4a715190d913538708ed40eb5d7b3">00055</a>         <span class="keywordtype">bool</span> <a class="code" href="structstatRegData.html#acde4a715190d913538708ed40eb5d7b3">dllLocked</a>;
<a name="l00056"></a><a class="code" href="structstatRegData.html#ab2c309fd8e307f289133e11a72d54dc2">00056</a>         <span class="keywordtype">bool</span> <a class="code" href="structstatRegData.html#ab2c309fd8e307f289133e11a72d54dc2">warningDllFast</a>;
<a name="l00057"></a><a class="code" href="structstatRegData.html#aef4d8d8abc4ce09fe4513a491718cf78">00057</a>         <span class="keywordtype">bool</span> <a class="code" href="structstatRegData.html#aef4d8d8abc4ce09fe4513a491718cf78">errorDllSlow</a>;
<a name="l00058"></a>00058     };
<a name="l00059"></a>00059 
<a name="l00060"></a><a class="code" href="LSDelayChipV1_8h.html#a9dbbe19d91a9e4d61f7291c5aeabce63">00060</a>     <span class="keyword">typedef</span> <span class="keyword">enum</span> 
<a name="l00061"></a>00061       {
<a name="l00062"></a><a class="code" href="LSDelayChipV1_8h.html#a9dbbe19d91a9e4d61f7291c5aeabce63a259de7b287dcc219dd6cda577c9ebc4c">00062</a>         <a class="code" href="LSDelayChipV1_8h.html#a9dbbe19d91a9e4d61f7291c5aeabce63a259de7b287dcc219dd6cda577c9ebc4c">LOCUS_3000_UA</a> = 0,            <span class="comment">// 3.0 mA</span>
<a name="l00063"></a><a class="code" href="LSDelayChipV1_8h.html#a9dbbe19d91a9e4d61f7291c5aeabce63aaf5de18b5633f00e781bb74b6c3850d3">00063</a>         <a class="code" href="LSDelayChipV1_8h.html#a9dbbe19d91a9e4d61f7291c5aeabce63aaf5de18b5633f00e781bb74b6c3850d3">LOCUS_1400_UA</a> = 1,            <span class="comment">// 1.4 mA</span>
<a name="l00064"></a><a class="code" href="LSDelayChipV1_8h.html#a9dbbe19d91a9e4d61f7291c5aeabce63a06d3e527062b8ffd220520be69e0d4e6">00064</a>         <a class="code" href="LSDelayChipV1_8h.html#a9dbbe19d91a9e4d61f7291c5aeabce63a06d3e527062b8ffd220520be69e0d4e6">LOCUS_2300_UA</a> = 2,            <span class="comment">// 2.3 mA</span>
<a name="l00065"></a><a class="code" href="LSDelayChipV1_8h.html#a9dbbe19d91a9e4d61f7291c5aeabce63abcd44318e3bbcab80cb33b8ac0638fa0">00065</a>         <a class="code" href="LSDelayChipV1_8h.html#a9dbbe19d91a9e4d61f7291c5aeabce63abcd44318e3bbcab80cb33b8ac0638fa0">LOCUS_0350_UA</a> = 3            <span class="comment">// .35 mA</span>
<a name="l00066"></a>00066       } <a class="code" href="LSDelayChipV1_8h.html#a9dbbe19d91a9e4d61f7291c5aeabce63">LVDS_OUTPUT_CURRENT_SELECTOR</a>;
<a name="l00067"></a>00067 
<a name="l00068"></a><a class="code" href="classLSDelayChipV1.html">00068</a> <span class="keyword">class </span><a class="code" href="classLSDelayChipV1.html">LSDelayChipV1</a> : <span class="keyword">public</span> <a class="code" href="classElement.html">Element</a> {
<a name="l00069"></a>00069 <span class="keyword">public</span>:
<a name="l00070"></a>00070 
<a name="l00071"></a><a class="code" href="classLSDelayChipV1.html#a4dbc01a273a6e044b6f163e12e136134">00071</a>     <a class="code" href="classLSDelayChipV1.html#a4dbc01a273a6e044b6f163e12e136134">LSDelayChipV1</a>(){
<a name="l00072"></a>00072         <a class="code" href="classObject.html#aae534cc9d982bcb9b99fd505f2e103a5">setType</a>(<span class="stringliteral">&quot;LSDelayChipV1&quot;</span>);
<a name="l00073"></a>00073         <a class="code" href="classObject.html#a398fe08cba594a0ce6891d59fe4f159f">setId</a>(0);
<a name="l00074"></a>00074 
<a name="l00075"></a>00075         <a class="code" href="classAttrib.html#a235f773af19c900264a190b00a3b4ad7">add</a>(<a class="code" href="classAttrib.html#a69e171d7cc6417835a5a306d3c764235a7788bc5dd333fd8ce18562b269c9dab1">Attrib::ELEMENT</a>); <a class="code" href="classAttrib.html#a235f773af19c900264a190b00a3b4ad7">add</a> (<a class="code" href="classAttrib.html#a69e171d7cc6417835a5a306d3c764235a61ceb22149f365f1780d18f9d1459423">Attrib::HARDWARE</a>);
<a name="l00076"></a>00076         <a class="code" href="classObject.html#aac010553f022165573714b7014a15f0d">debug</a>(<span class="stringliteral">&quot;LSDelayChipV1 built.&quot;</span>,<span class="stringliteral">&quot;LSDelayChipV1::LSDelayChipV1&quot;</span>);
<a name="l00077"></a>00077 
<a name="l00078"></a>00078         <a class="code" href="classLSDelayChipV1.html#afd1cfdcb114549dc1466c77f07d39fe0">m_regConfig</a>=<span class="keyword">new</span> <a class="code" href="classRegister.html">Register</a>();
<a name="l00079"></a>00079         <a class="code" href="classLSDelayChipV1.html#aaf118f103e89a35d2c449e8e3ffe8c20">m_regStatus</a>=<span class="keyword">new</span> <a class="code" href="classRegister.html">Register</a>();
<a name="l00080"></a>00080 
<a name="l00081"></a>00081         <a class="code" href="classLSDelayChipV1.html#afd1cfdcb114549dc1466c77f07d39fe0">m_regConfig</a>-&gt;<a class="code" href="classObject.html#ae30fea75683c2d149b6b6d17c09ecd0c">setName</a>(<span class="stringliteral">&quot;ConfigRegister&quot;</span>);
<a name="l00082"></a>00082         <a class="code" href="classLSDelayChipV1.html#aaf118f103e89a35d2c449e8e3ffe8c20">m_regStatus</a>-&gt;<a class="code" href="classObject.html#ae30fea75683c2d149b6b6d17c09ecd0c">setName</a>(<span class="stringliteral">&quot;StatusRegister&quot;</span>);
<a name="l00083"></a>00083 
<a name="l00084"></a>00084         <a class="code" href="classLSDelayChipV1.html#afd1cfdcb114549dc1466c77f07d39fe0">m_regConfig</a>-&gt;<a class="code" href="classIOobject.html#af04fb94137c3d86849f478ac5afab5d1">io</a>()-&gt;<a class="code" href="classIOdata.html#aeca09aa9a8c2ccc4c3a728b2ddcf4b2a">setSubAddress</a>(9);    
<a name="l00085"></a>00085         <a class="code" href="classLSDelayChipV1.html#aaf118f103e89a35d2c449e8e3ffe8c20">m_regStatus</a>-&gt;<a class="code" href="classIOobject.html#af04fb94137c3d86849f478ac5afab5d1">io</a>()-&gt;<a class="code" href="classIOdata.html#aeca09aa9a8c2ccc4c3a728b2ddcf4b2a">setSubAddress</a>(19);
<a name="l00086"></a>00086 
<a name="l00087"></a>00087         <a class="code" href="classLSDelayChipV1.html#afd1cfdcb114549dc1466c77f07d39fe0">m_regConfig</a>-&gt;<a class="code" href="classIOobject.html#af04fb94137c3d86849f478ac5afab5d1">io</a>()-&gt;<a class="code" href="classIOdata.html#a80bb230b61062b447db5832e43bf7b44">defDataU8</a>(3);    
<a name="l00088"></a>00088         <a class="code" href="classLSDelayChipV1.html#aaf118f103e89a35d2c449e8e3ffe8c20">m_regStatus</a>-&gt;<a class="code" href="classIOobject.html#af04fb94137c3d86849f478ac5afab5d1">io</a>()-&gt;<a class="code" href="classIOdata.html#a80bb230b61062b447db5832e43bf7b44">defDataU8</a>(2);
<a name="l00089"></a>00089 
<a name="l00090"></a>00090         <a class="code" href="classLSDelayChipV1.html#afd1cfdcb114549dc1466c77f07d39fe0">m_regConfig</a>-&gt;<a class="code" href="classIOobject.html#af04fb94137c3d86849f478ac5afab5d1">io</a>()-&gt;<a class="code" href="classIOdata.html#a20f30a9f4673713616447b1b5e9817d5">setWordSize</a>(<a class="code" href="classIOdata.html#a37c53ebf4bf8d866aac8af572962a84ca00156611f08eeb1b5d361de809dafb8e">IOdata::Byte</a>);
<a name="l00091"></a>00091         <a class="code" href="classLSDelayChipV1.html#aaf118f103e89a35d2c449e8e3ffe8c20">m_regStatus</a>-&gt;<a class="code" href="classIOobject.html#af04fb94137c3d86849f478ac5afab5d1">io</a>()-&gt;<a class="code" href="classIOdata.html#a20f30a9f4673713616447b1b5e9817d5">setWordSize</a>(<a class="code" href="classIOdata.html#a37c53ebf4bf8d866aac8af572962a84ca00156611f08eeb1b5d361de809dafb8e">IOdata::Byte</a>);
<a name="l00092"></a>00092 
<a name="l00093"></a>00093         <a class="code" href="classHierarchy.html#ad677774ff38fcb257c04a3a10d471fac">addChild</a>(<a class="code" href="classLSDelayChipV1.html#afd1cfdcb114549dc1466c77f07d39fe0">m_regConfig</a>);
<a name="l00094"></a>00094         <a class="code" href="classHierarchy.html#ad677774ff38fcb257c04a3a10d471fac">addChild</a>(<a class="code" href="classLSDelayChipV1.html#aaf118f103e89a35d2c449e8e3ffe8c20">m_regStatus</a>);
<a name="l00095"></a>00095         <a class="code" href="classLSDelayChipV1.html#ab49ac38bf9e7a41ccb89c6725cfcac3a">m_configAddr</a> = 0xEE;
<a name="l00096"></a>00096     }
<a name="l00097"></a>00097     
<a name="l00098"></a>00098     <span class="comment">//Core functions: access to configuration registers.</span>
<a name="l00099"></a>00099     <span class="comment">//Bulk R/W      : &apos;naked&apos; bits.</span>
<a name="l00100"></a>00100     <span class="comment">//Set / Get     : confRegData struct is used to store values.</span>
<a name="l00101"></a>00101     <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a97a50092ce40f6322db946fc580f7230">configRegBulkRead</a>          (<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr);
<a name="l00102"></a>00102     <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#afa626b5d52f8723bcaa3205d1cc7a0f8">configRegBulkWrite</a>         (<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <a class="code" href="ICECALv3_8h.html#adf928e51a60dba0df29d615401cc55a8">U16</a> <a class="code" href="structconfRegData.html">confRegData</a>);
<a name="l00103"></a>00103     <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a4f338071d49df7eae55020a5f5fa8474">getConfigReg</a>               (<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr);
<a name="l00104"></a>00104     <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a11fa2ebfa37c5cf0544ddb68c7d43e94">setConfigReg</a>               (<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <a class="code" href="structconfRegData.html">confRegData</a> d);
<a name="l00105"></a>00105  
<a name="l00106"></a>00106     <span class="comment">//Safe way to write single data within the registers.</span>
<a name="l00107"></a>00107     <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#ad83fb046d3576cdccdb4b4fe59f7ff71">setConfigRegPhaseADC</a>       (<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> phaseADC);
<a name="l00108"></a>00108     <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#aa1364ef56bf75884756a8d589cee4328">setConfigRegPhaseTH</a>        (<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> phaseTH );
<a name="l00109"></a>00109     <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a317f739744d1093385306530fe5b312a">setConfigRegPhaseINT</a>       (<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> phaseINT); 
<a name="l00110"></a>00110     <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a46a7aee8c7373c6858af9ecd29e9b116">setConfigRegLVDSOutEn</a>      (<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <span class="keywordtype">bool</span> en);
<a name="l00111"></a>00111     <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a813eca3585445d504d60a93ec55817f4">setConfigRegDebugMode</a>      (<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <span class="keywordtype">bool</span> en);
<a name="l00112"></a>00112     <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#afd8a57dda2cd6a62607cbfc9808c3220">setConfigRegVControlOutEn</a>  (<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <span class="keywordtype">bool</span> en);
<a name="l00113"></a>00113     <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a2a1eebeacb7ed2b0fc5584f3630d0aa0">setConfigRegLOCUS</a>          (<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> locus);        
<a name="l00114"></a>00114 
<a name="l00115"></a>00115     <span class="comment">//Commands:</span>
<a name="l00116"></a>00116     <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a5b2c2e527b044b128306695828e9fd19">resetPumps</a>();
<a name="l00117"></a>00117     <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a9e04b654e8d6d63efe23fc3b31e15ce6">bypassMisoMosi</a>(<a class="code" href="ICECALv3_8h.html#adf928e51a60dba0df29d615401cc55a8">U16</a> writeData); 
<a name="l00118"></a>00118  
<a name="l00119"></a>00119     <span class="comment">//FER (Frame Error Rate) Test.</span>
<a name="l00120"></a>00120     <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#ad0ed8d0797c985d7595fbe56f0da1996">spiBERTest</a>(<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> confRegAddr, <span class="keywordtype">long</span> nFrames);    
<a name="l00121"></a>00121  
<a name="l00122"></a>00122     <span class="comment">//Shows the content of the last polled configuration register.</span>
<a name="l00123"></a>00123     <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a01c1e85ae0d0e031164fe2d47b4f4824">showConfig</a>();
<a name="l00124"></a>00124 
<a name="l00125"></a><a class="code" href="classLSDelayChipV1.html#a86c96f60b9be6f35745536df46919817">00125</a>   <a class="code" href="classLSDelayChipV1.html#a86c96f60b9be6f35745536df46919817">~LSDelayChipV1</a>(){
<a name="l00126"></a>00126   }
<a name="l00127"></a>00127 
<a name="l00131"></a><a class="code" href="classLSDelayChipV1.html#a3d57457a70f7d42687197704321b0c8e">00131</a>   <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a3d57457a70f7d42687197704321b0c8e">help</a>() { <a class="code" href="classObject.html#a644fd329ea4cb85f54fa6846484b84a8">info</a>(<span class="stringliteral">&quot;LSDelayChipV1 &quot;</span>+<a class="code" href="classObject.html#a975e888d50bfcbffda2c86368332a5cd">name</a>()+<span class="stringliteral">&quot;. No help.&quot;</span>,<span class="stringliteral">&quot;LSDelayChipV1::help&quot;</span>); };
<a name="l00132"></a>00132 
<a name="l00138"></a><a class="code" href="classLSDelayChipV1.html#af8bc9c84a1b65cbc2176fdbc349e829c">00138</a>   <a class="code" href="classStatusCode.html">StatusCode</a> <a class="code" href="classLSDelayChipV1.html#af8bc9c84a1b65cbc2176fdbc349e829c">init</a>() {
<a name="l00139"></a>00139     <span class="keywordflow">return</span> <a class="code" href="classStatusCode.html#a6f565cbeadc76d14c72f047e5e85eb4badd0da38d3ba0d922efd1f4619bc37ad8">StatusCode::SUCCESS</a>;
<a name="l00140"></a>00140   };
<a name="l00141"></a>00141   
<a name="l00149"></a>00149   <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a6b772084a850e96b2f9bb5600c29259c">reset</a>();
<a name="l00150"></a>00150 
<a name="l00154"></a><a class="code" href="classLSDelayChipV1.html#a7d4eb6fb7ca527286d36f30123bfd60a">00154</a>   <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a7d4eb6fb7ca527286d36f30123bfd60a">update</a> () {
<a name="l00155"></a>00155     
<a name="l00156"></a>00156   };
<a name="l00157"></a>00157 
<a name="l00158"></a><a class="code" href="classLSDelayChipV1.html#a04ec44c79258fd22f7d2d5ea27a67648">00158</a>   <span class="keywordtype">void</span> <a class="code" href="classLSDelayChipV1.html#a04ec44c79258fd22f7d2d5ea27a67648">setAddress</a>(<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> address){
<a name="l00159"></a>00159     <a class="code" href="classLSDelayChipV1.html#a6fba278fd2ac602c796b5e5cebf2d2de">m_address</a>=address;
<a name="l00160"></a>00160     <a class="code" href="classLSDelayChipV1.html#afd1cfdcb114549dc1466c77f07d39fe0">m_regConfig</a>-&gt;<a class="code" href="classIOobject.html#ae0d372aaeafe3da3c239677118deb2ac">setAddress</a>(<a class="code" href="classLSDelayChipV1.html#a6fba278fd2ac602c796b5e5cebf2d2de">m_address</a>);
<a name="l00161"></a>00161     <a class="code" href="classLSDelayChipV1.html#aaf118f103e89a35d2c449e8e3ffe8c20">m_regStatus</a>-&gt;<a class="code" href="classIOobject.html#ae0d372aaeafe3da3c239677118deb2ac">setAddress</a>(<a class="code" href="classLSDelayChipV1.html#a6fba278fd2ac602c796b5e5cebf2d2de">m_address</a>);
<a name="l00162"></a>00162   }
<a name="l00163"></a>00163 
<a name="l00164"></a>00164 <span class="keyword">private</span>:
<a name="l00165"></a>00165 
<a name="l00166"></a><a class="code" href="classLSDelayChipV1.html#afd1cfdcb114549dc1466c77f07d39fe0">00166</a>   <a class="code" href="classRegister.html">Register</a>*         <a class="code" href="classLSDelayChipV1.html#afd1cfdcb114549dc1466c77f07d39fe0">m_regConfig</a>;
<a name="l00167"></a><a class="code" href="classLSDelayChipV1.html#aaf118f103e89a35d2c449e8e3ffe8c20">00167</a>   <a class="code" href="classRegister.html">Register</a>*         <a class="code" href="classLSDelayChipV1.html#aaf118f103e89a35d2c449e8e3ffe8c20">m_regStatus</a>;
<a name="l00168"></a><a class="code" href="classLSDelayChipV1.html#a6fba278fd2ac602c796b5e5cebf2d2de">00168</a>   <a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a>                <a class="code" href="classLSDelayChipV1.html#a6fba278fd2ac602c796b5e5cebf2d2de">m_address</a>;
<a name="l00169"></a>00169   
<a name="l00170"></a><a class="code" href="classLSDelayChipV1.html#ae049797212539b231b9722ae69a0491d">00170</a>   <a class="code" href="ICECALv3_8h.html#adf928e51a60dba0df29d615401cc55a8">U16</a>               <a class="code" href="classLSDelayChipV1.html#ae049797212539b231b9722ae69a0491d">m_rxConfigBits</a>;
<a name="l00171"></a><a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">00171</a>   <a class="code" href="structconfRegData.html">confRegData</a>       <a class="code" href="classLSDelayChipV1.html#a4818ac5c0d7ccf2845a01226234bdb67">m_rxConfig</a>;
<a name="l00172"></a><a class="code" href="classLSDelayChipV1.html#ab49ac38bf9e7a41ccb89c6725cfcac3a">00172</a>   <a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a>                <a class="code" href="classLSDelayChipV1.html#ab49ac38bf9e7a41ccb89c6725cfcac3a">m_configAddr</a>;
<a name="l00173"></a>00173   
<a name="l00174"></a><a class="code" href="classLSDelayChipV1.html#a425c69ef8f3d64d93cb1c86b83bbceec">00174</a>   <span class="keywordtype">long</span>              <a class="code" href="classLSDelayChipV1.html#a425c69ef8f3d64d93cb1c86b83bbceec">m_nBad</a>;
<a name="l00175"></a><a class="code" href="classLSDelayChipV1.html#a38d35de6a25fb1394ede2f39a4f25a08">00175</a>   <span class="keywordtype">double</span>            <a class="code" href="classLSDelayChipV1.html#a38d35de6a25fb1394ede2f39a4f25a08">m_fer</a>;
<a name="l00176"></a>00176   
<a name="l00177"></a><a class="code" href="classLSDelayChipV1.html#aa8118972150a9e1e95e9006e003c0206">00177</a>     <span class="keywordtype">bool</span> <a class="code" href="classLSDelayChipV1.html#aa8118972150a9e1e95e9006e003c0206">checkConfigAddr</a>(<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> addr)
<a name="l00178"></a>00178     {
<a name="l00179"></a>00179          <span class="keywordtype">bool</span> ok = <span class="keyword">false</span>;
<a name="l00180"></a>00180          ok |= (addr == <a class="code" href="LSDelayChipV1_8h.html#a27e55e95b788d2cc312a439198c26971">INT_TH_0_CONFREG_ADDR</a>); 
<a name="l00181"></a>00181          ok |= (addr == <a class="code" href="LSDelayChipV1_8h.html#a771c79d3381641a3bc709f4a69efcc28">INT_TH_1_CONFREG_ADDR</a>);
<a name="l00182"></a>00182          ok |= (addr == <a class="code" href="LSDelayChipV1_8h.html#a0a4946654da8e2065cc0b461f99d9bc8">INT_TH_2_CONFREG_ADDR</a>);
<a name="l00183"></a>00183          ok |= (addr == <a class="code" href="LSDelayChipV1_8h.html#af8cc01f53a4a2d46901b9f32372ab6ea">INT_TH_3_CONFREG_ADDR</a>);     
<a name="l00184"></a>00184          ok |= (addr == <a class="code" href="LSDelayChipV1_8h.html#ad1c6f1ce476a54a95469cd130dffa074">ADC_0_CONFREG_ADDR</a>); 
<a name="l00185"></a>00185          ok |= (addr == <a class="code" href="LSDelayChipV1_8h.html#a83aa641dd89900461bdc2ed428f2bce9">ADC_1_CONFREG_ADDR</a>);
<a name="l00186"></a>00186          ok |= (addr == <a class="code" href="LSDelayChipV1_8h.html#abd577ee5c75174c74fc6886c1eaad80a">ADC_2_CONFREG_ADDR</a>);
<a name="l00187"></a>00187          ok |= (addr == <a class="code" href="LSDelayChipV1_8h.html#a19e4f86f88864d8c249bd537ef628f92">ADC_3_CONFREG_ADDR</a>);
<a name="l00188"></a>00188          <span class="keywordflow">if</span>(ok) <a class="code" href="classObject.html#aac010553f022165573714b7014a15f0d">debug</a>(<span class="stringliteral">&quot;The address @&quot;</span> + <a class="code" href="Tools_8h.html#af330027dbdafb9a30768b3613c553e60">itos</a>(addr) + <span class="stringliteral">&quot; is valid.&quot;</span>);
<a name="l00189"></a>00189          <span class="keywordflow">else</span>   <a class="code" href="classObject.html#aac010553f022165573714b7014a15f0d">debug</a>(<span class="stringliteral">&quot;The address @&quot;</span> + <a class="code" href="Tools_8h.html#af330027dbdafb9a30768b3613c553e60">itos</a>(addr) + <span class="stringliteral">&quot; is not valid.&quot;</span>);
<a name="l00190"></a>00190          <span class="keywordflow">return</span> ok;           
<a name="l00191"></a>00191     }
<a name="l00192"></a>00192 
<a name="l00193"></a><a class="code" href="classLSDelayChipV1.html#a5083f29a93d38258d9de00dd5a89af99">00193</a>     <span class="keywordtype">bool</span> <a class="code" href="classLSDelayChipV1.html#a5083f29a93d38258d9de00dd5a89af99">checkStatusAddr</a>(<a class="code" href="ICECALv3_8h.html#a3cb25ca6f51f003950f9625ff05536fc">U8</a> addr)
<a name="l00194"></a>00194     {
<a name="l00195"></a>00195          <span class="keywordtype">bool</span> ok = <span class="keyword">false</span>;  
<a name="l00196"></a>00196          ok |= (addr == <a class="code" href="LSDelayChipV1_8h.html#adca5cc0cd52b4fe9328f3471b0b9c613">DLL_0_STATREG_ADDR</a>); 
<a name="l00197"></a>00197          ok |= (addr == <a class="code" href="LSDelayChipV1_8h.html#a39e2f4a0151fcdf29a28e917154fa039">DLL_1_STATREG_ADDR</a>);
<a name="l00198"></a>00198          ok |= (addr == <a class="code" href="LSDelayChipV1_8h.html#a11ad4f0e8a466fc2da33308f351b9054">DLL_2_STATREG_ADDR</a>);
<a name="l00199"></a>00199          ok |= (addr == <a class="code" href="LSDelayChipV1_8h.html#ad23a65fd56cf8a5ba711228025ab5e48">DLL_3_STATREG_ADDR</a>);  
<a name="l00200"></a>00200          <span class="keywordflow">if</span>(ok) <a class="code" href="classObject.html#aac010553f022165573714b7014a15f0d">debug</a>(<span class="stringliteral">&quot;The address @&quot;</span> + <a class="code" href="Tools_8h.html#af330027dbdafb9a30768b3613c553e60">itos</a>(addr) + <span class="stringliteral">&quot; is valid.&quot;</span>);
<a name="l00201"></a>00201          <span class="keywordflow">else</span>   <a class="code" href="classObject.html#aac010553f022165573714b7014a15f0d">debug</a>(<span class="stringliteral">&quot;The address @&quot;</span> + <a class="code" href="Tools_8h.html#af330027dbdafb9a30768b3613c553e60">itos</a>(addr) + <span class="stringliteral">&quot; is not valid.&quot;</span>);      
<a name="l00202"></a>00202          <span class="keywordflow">return</span> ok;           
<a name="l00203"></a>00203     }
<a name="l00204"></a>00204     
<a name="l00205"></a><a class="code" href="classLSDelayChipV1.html#af7f4d72fb404b6b3d7b41fd01876ed0a">00205</a>     std::string <a class="code" href="classLSDelayChipV1.html#af7f4d72fb404b6b3d7b41fd01876ed0a">itohs</a>(<a class="code" href="ICECALv3_8h.html#adf928e51a60dba0df29d615401cc55a8">U16</a> value)
<a name="l00206"></a>00206     {
<a name="l00207"></a>00207         <span class="keywordtype">char</span> buff[32];
<a name="l00208"></a>00208         sprintf(buff,<span class="stringliteral">&quot;%04X&quot;</span>,value);
<a name="l00209"></a>00209         <span class="keywordflow">return</span> std::string(buff);
<a name="l00210"></a>00210     }
<a name="l00211"></a>00211 };
<a name="l00212"></a>00212 
<a name="l00213"></a>00213 <span class="preprocessor">#endif</span>
<a name="l00214"></a>00214 <span class="preprocessor"></span>
</pre></div></div>
<!--- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&nbsp;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&nbsp;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&nbsp;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&nbsp;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&nbsp;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&nbsp;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&nbsp;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&nbsp;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&nbsp;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&nbsp;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<hr size="1"/><address style="text-align: right;"><small>Generated on 25 Jan 2018 for Cat by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.1 </small></address>
</body>
</html>
