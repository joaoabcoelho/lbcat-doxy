\hypertarget{Tools_8cpp}{}\section{/home/eleclhcb/\+L\+H\+Cb/lbcat-\/cmake/\+Cat\+Kernel/src/\+Tools.cpp File Reference}
\label{Tools_8cpp}\index{/home/eleclhcb/\+L\+H\+Cb/lbcat-\/cmake/\+Cat\+Kernel/src/\+Tools.\+cpp@{/home/eleclhcb/\+L\+H\+Cb/lbcat-\/cmake/\+Cat\+Kernel/src/\+Tools.\+cpp}}
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$iostream$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
{\ttfamily \#include $<$math.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include \char`\"{}Application.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Options.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}Tools.\+h\char`\"{}}\newline
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{Tools_8cpp_aff2398c61ac70d4ae8206300b613e588}{\+\_\+\+\_\+\+F\+C\+T\+\_\+\+C\+P\+P\+\_\+}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{Tools_8cpp_a2c956caea957588eef9f0e6499e5e8c1}{set\+Application} (\hyperlink{classApplication}{Application} $\ast$cat)
\item 
\hyperlink{classApplication}{Application} $\ast$ \hyperlink{Tools_8cpp_a27885a3c35afe79029fb830f32f66458}{application} ()
\item 
std\+::string \hyperlink{Tools_8cpp_a20f271409637c91b02c586644cb542e0}{itos} (int i)
\item 
std\+::string \hyperlink{Tools_8cpp_ad2603c89b82a1609399d9c9257f947f7}{ftos} (float f)
\item 
std\+::string \hyperlink{Tools_8cpp_ae8e9adcadc5cddf91fc3b7c58b41815d}{dtos} (double d)
\item 
std\+::string \hyperlink{Tools_8cpp_ac1d44f50965a8575cc7318dcbd3dce4d}{btos} (std\+::vector$<$ bool $>$ \hyperlink{Tools_8h_a16025e92b541c606122d8b4af59c2e76}{bits})
\item 
std\+::vector$<$ bool $>$ \hyperlink{Tools_8cpp_af5aab27b581d3099ed0afa100a1b16a1}{itob} (int val, int nbit)
\item 
int \hyperlink{Tools_8cpp_a784f38ec4c07dbcd5371f60fbfaa0531}{stoi} (std\+::string value)
\item 
double \hyperlink{Tools_8cpp_ae91b71f52ca53ead2aa47b7db006c404}{to\+Double} (std\+::string s)
\item 
\hyperlink{classStatusCode}{Status\+Code} \hyperlink{Tools_8cpp_a4bc84a478ae933b46eec04e253ed1614}{check\+Cmd} (std\+::string format, \hyperlink{Tools_8h_a3691191ee3160cd3594dce0138ef60fa}{commands} instruction, \hyperlink{var_8h_a2a1c35ad624b5ab1fedf9a5719b81b4e}{vars} \&varlist)
\item 
bool \hyperlink{Tools_8cpp_ae7615ca3a69f79ae0e70767043c49387}{is\+Float} (const char $\ast$chain)
\item 
bool \hyperlink{Tools_8cpp_a9cfc57e458c74c6992c89e2f9312ea36}{is\+Int} (const char $\ast$chain)
\item 
bool \hyperlink{Tools_8cpp_afa8a5bb7c1f05c04e5b067d74b8472c7}{ask\+Svc} (std\+::string msg)
\item 
bool \hyperlink{Tools_8cpp_a0c3fa1747044139af8fa1de8b921226c}{graph\+Svc} ()
\item 
std\+::string \hyperlink{Tools_8cpp_a0029683290056ff94e5ddc0dfaa3e1c4}{input\+Svc} (std\+::string msg)
\item 
void \hyperlink{Tools_8cpp_afa4d2c71ecbefa3a07468d4a3d590e87}{wait} (int n)
\end{DoxyCompactItemize}
\subsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classApplication}{Application} $\ast$ \hyperlink{Tools_8cpp_aea679c7117e896daafaf36140158c9ee}{g\+App}
\end{DoxyCompactItemize}


\subsection{Macro Definition Documentation}
\mbox{\Hypertarget{Tools_8cpp_aff2398c61ac70d4ae8206300b613e588}\label{Tools_8cpp_aff2398c61ac70d4ae8206300b613e588}} 
\index{Tools.\+cpp@{Tools.\+cpp}!\+\_\+\+\_\+\+F\+C\+T\+\_\+\+C\+P\+P\+\_\+@{\+\_\+\+\_\+\+F\+C\+T\+\_\+\+C\+P\+P\+\_\+}}
\index{\+\_\+\+\_\+\+F\+C\+T\+\_\+\+C\+P\+P\+\_\+@{\+\_\+\+\_\+\+F\+C\+T\+\_\+\+C\+P\+P\+\_\+}!Tools.\+cpp@{Tools.\+cpp}}
\subsubsection{\texorpdfstring{\+\_\+\+\_\+\+F\+C\+T\+\_\+\+C\+P\+P\+\_\+}{\_\_FCT\_CPP\_}}
{\footnotesize\ttfamily \#define \+\_\+\+\_\+\+F\+C\+T\+\_\+\+C\+P\+P\+\_\+}



Definition at line 14 of file Tools.\+cpp.



\subsection{Function Documentation}
\mbox{\Hypertarget{Tools_8cpp_a27885a3c35afe79029fb830f32f66458}\label{Tools_8cpp_a27885a3c35afe79029fb830f32f66458}} 
\index{Tools.\+cpp@{Tools.\+cpp}!application@{application}}
\index{application@{application}!Tools.\+cpp@{Tools.\+cpp}}
\subsubsection{\texorpdfstring{application()}{application()}}
{\footnotesize\ttfamily \hyperlink{classApplication}{Application}$\ast$ application (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

return entry point for the application 

Definition at line 42 of file Tools.\+cpp.



References g\+App.



Referenced by Application\+::bookkeeping(), check\+Cmd(), Computer\+::\+Computer(), Acquisition\+::execute(), Test\+I2\+C\+::execute(), A\+D\+C\+Measurement\+::execute(), Current\+Measurement\+::execute(), D\+L\+L\+::init(), Acquisition\+::initialize(), A\+D\+C\+Measurement\+::initialize(), Current\+Measurement\+::initialize(), is\+Int(), Application\+::load\+History\+File(), Msg\+Svc\+::log(), Msg\+Svc\+::msg\+Svc(), Application\+::network(), N\+I6008\+::\+N\+I6008(), D\+L\+L\+::print(), Proc\+Data\+Base\+::\+Proc\+Data\+Base(), Server\+::\+Server(), Processus\+::set\+State(), Server\+::start(), wait(), and Computer\+::$\sim$\+Computer().


\begin{DoxyCode}
42                            \{
43   \textcolor{keywordflow}{return} \hyperlink{Tools_8cpp_aea679c7117e896daafaf36140158c9ee}{gApp};
44 \}
\end{DoxyCode}
\mbox{\Hypertarget{Tools_8cpp_afa8a5bb7c1f05c04e5b067d74b8472c7}\label{Tools_8cpp_afa8a5bb7c1f05c04e5b067d74b8472c7}} 
\index{Tools.\+cpp@{Tools.\+cpp}!ask\+Svc@{ask\+Svc}}
\index{ask\+Svc@{ask\+Svc}!Tools.\+cpp@{Tools.\+cpp}}
\subsubsection{\texorpdfstring{ask\+Svc()}{askSvc()}}
{\footnotesize\ttfamily bool ask\+Svc (\begin{DoxyParamCaption}\item[{std\+::string}]{msg }\end{DoxyParamCaption})}



Definition at line 242 of file Tools.\+cpp.


\begin{DoxyCode}
242                              \{
243   \textcolor{comment}{/*}
244 \textcolor{comment}{  AskPrinter asker = application() -> options() -> askPrinter ();}
245 \textcolor{comment}{  return asker ( msg);}
246 \textcolor{comment}{  */}
247   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
248 \}
\end{DoxyCode}
\mbox{\Hypertarget{Tools_8cpp_ac1d44f50965a8575cc7318dcbd3dce4d}\label{Tools_8cpp_ac1d44f50965a8575cc7318dcbd3dce4d}} 
\index{Tools.\+cpp@{Tools.\+cpp}!btos@{btos}}
\index{btos@{btos}!Tools.\+cpp@{Tools.\+cpp}}
\subsubsection{\texorpdfstring{btos()}{btos()}}
{\footnotesize\ttfamily std\+::string btos (\begin{DoxyParamCaption}\item[{std\+::vector$<$ bool $>$}]{ }\end{DoxyParamCaption})}

Conversion from binary (std\+::vector$<$std\+::string$>$) to std\+::string 

Definition at line 67 of file Tools.\+cpp.



References itos().



Referenced by I\+Odata\+::dump().


\begin{DoxyCode}
67                                     \{   
68   \textcolor{keywordtype}{int} i=\hyperlink{Tools_8h_a16025e92b541c606122d8b4af59c2e76}{bits}.size()-1;
69   std::string output;
70   \textcolor{keywordflow}{while}(i>=0)\{
71     output+=\hyperlink{Tools_8cpp_a20f271409637c91b02c586644cb542e0}{itos}(\hyperlink{Tools_8h_a16025e92b541c606122d8b4af59c2e76}{bits}[i]);
72     i--;
73   \} 
74   \textcolor{keywordflow}{return} output;
75 \}   
\end{DoxyCode}
\mbox{\Hypertarget{Tools_8cpp_a4bc84a478ae933b46eec04e253ed1614}\label{Tools_8cpp_a4bc84a478ae933b46eec04e253ed1614}} 
\index{Tools.\+cpp@{Tools.\+cpp}!check\+Cmd@{check\+Cmd}}
\index{check\+Cmd@{check\+Cmd}!Tools.\+cpp@{Tools.\+cpp}}
\subsubsection{\texorpdfstring{check\+Cmd()}{checkCmd()}}
{\footnotesize\ttfamily \hyperlink{classStatusCode}{Status\+Code} check\+Cmd (\begin{DoxyParamCaption}\item[{std\+::string}]{,  }\item[{\hyperlink{Tools_8h_a3691191ee3160cd3594dce0138ef60fa}{commands}}]{,  }\item[{\hyperlink{var_8h_a2a1c35ad624b5ab1fedf9a5719b81b4e}{vars} \&}]{ }\end{DoxyParamCaption})}

check the format of an instruction 

Definition at line 126 of file Tools.\+cpp.



References application(), Status\+Code\+::\+F\+A\+I\+L\+U\+RE, images\+::index, Object\+::info(), is\+Float(), is\+Int(), cat\+::size, Status\+Code\+::\+S\+U\+C\+C\+E\+SS, and Object\+::warning().


\begin{DoxyCode}
126                                                                               \{
127   \textcolor{keywordtype}{int} \hyperlink{namespacecat_a3eae50bb86a614752045105e00365a46}{size} = instruction.size();
128   \textcolor{keywordflow}{if} ( size<=0 )\{
129     \textcolor{keywordflow}{return} \hyperlink{classStatusCode_a6f565cbeadc76d14c72f047e5e85eb4ba3da73d4c469762eb9d3c960368252b26}{StatusCode::FAILURE};
130   \}
131 
132   \textcolor{comment}{// line is empty}
133   \textcolor{keywordflow}{if} ( format.empty() ||  std::string::npos==format.find\_first\_not\_of(\textcolor{charliteral}{' '}) ) \{
134     \textcolor{keywordflow}{return} \hyperlink{classStatusCode_a6f565cbeadc76d14c72f047e5e85eb4ba3da73d4c469762eb9d3c960368252b26}{StatusCode::FAILURE};
135   \}
136 
137   \textcolor{comment}{// split the format in a vector of strings }
138   \textcolor{comment}{// decode the main command}
139   std::string line = std::string (format, 
140                   format.find\_first\_not\_of(\textcolor{charliteral}{' '}) , 
141                   format.size());
142   std::vector<std::string> cmd;
143   std::string separator(1,\textcolor{charliteral}{' '});
144   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} ipos = line.find( separator );
145   cmd.push\_back ( std::string( line, 0, ipos ) );
146   \textcolor{keywordflow}{if} ( 0!=std::string ( line , 0 , ipos ).compare(instruction[0]) )\{
147     \hyperlink{Tools_8cpp_a27885a3c35afe79029fb830f32f66458}{application}()->\hyperlink{classObject_a644fd329ea4cb85f54fa6846484b84a8}{info}(std::string ( line , 0 , ipos )+\textcolor{stringliteral}{" "}+instruction[0],\textcolor{stringliteral}{""});
148     \textcolor{keywordflow}{return} \hyperlink{classStatusCode_a6f565cbeadc76d14c72f047e5e85eb4ba3da73d4c469762eb9d3c960368252b26}{StatusCode::FAILURE};
149   \}
150 
151   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} pos ;
152 
153   std::string str = line;
154   \textcolor{keywordflow}{while} ( ipos!=std::string::npos )\{
155     std::string tmp = std::string (str, ipos , str.size());
156     str = tmp;
157     pos=str.find\_first\_not\_of( \textcolor{charliteral}{' '} );    
158     \textcolor{keywordflow}{if} ( pos == std::string::npos ) \{      
159       \textcolor{keywordflow}{break};
160     \}
161     std::string arg;
162     ipos = str.find(separator,pos);
163   
164     \textcolor{keywordflow}{if} (ipos==std::string::npos)\{
165       arg =  std::string(str , pos );
166     \}
167     \textcolor{keywordflow}{else} \{
168       arg = std::string(str , pos, ipos - 1);
169     \}
170     cmd.push\_back(arg);
171   \}
172 
173   \textcolor{comment}{// check parameter number}
174   \textcolor{keywordflow}{if} ( instruction.size() != cmd.size() )\{
175     \hyperlink{Tools_8cpp_a27885a3c35afe79029fb830f32f66458}{application}()->\hyperlink{classObject_a644fd329ea4cb85f54fa6846484b84a8}{info}(\textcolor{stringliteral}{"wrong number of parameter. a enelver !!!!"},\textcolor{stringliteral}{""});
176     \textcolor{keywordflow}{return} \hyperlink{classStatusCode_a6f565cbeadc76d14c72f047e5e85eb4ba3da73d4c469762eb9d3c960368252b26}{StatusCode::FAILURE};
177   \}
178   \textcolor{comment}{// no parameter}
179   \textcolor{keywordflow}{if} ( 1==cmd.size() )\{
180     \textcolor{keywordflow}{return} \hyperlink{classStatusCode_a6f565cbeadc76d14c72f047e5e85eb4badd0da38d3ba0d922efd1f4619bc37ad8}{StatusCode::SUCCESS};
181   \}
182   \textcolor{comment}{// decode the format}
183   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{namespaceimages_a54407fd574970b3178647ae096321a57}{index} = 1; \hyperlink{namespaceimages_a54407fd574970b3178647ae096321a57}{index} < cmd.size() ; ++\hyperlink{namespaceimages_a54407fd574970b3178647ae096321a57}{index})\{
184     \textcolor{comment}{// int ?}
185     \textcolor{keywordflow}{if} ( 0==cmd[\hyperlink{namespaceimages_a54407fd574970b3178647ae096321a57}{index}].compare(\textcolor{stringliteral}{"%i"}) || 0==cmd[\hyperlink{namespaceimages_a54407fd574970b3178647ae096321a57}{index}].compare(\textcolor{stringliteral}{"%I"}) )\{
186       \textcolor{keywordflow}{if} ( !\hyperlink{Tools_8cpp_a9cfc57e458c74c6992c89e2f9312ea36}{isInt} ( instruction[\hyperlink{namespaceimages_a54407fd574970b3178647ae096321a57}{index}].c\_str() ) ) \{
187     \hyperlink{Tools_8cpp_a27885a3c35afe79029fb830f32f66458}{application}()->\hyperlink{classObject_a65cd4fda577711660821fd2cd5a3b4c9}{warning}(\textcolor{stringliteral}{"We expect an integer parameter ["}+instruction[
      \hyperlink{namespaceimages_a54407fd574970b3178647ae096321a57}{index}]+\textcolor{stringliteral}{"]"},\textcolor{stringliteral}{"checkCmd"});
188     \textcolor{keywordflow}{return} \hyperlink{classStatusCode_a6f565cbeadc76d14c72f047e5e85eb4ba3da73d4c469762eb9d3c960368252b26}{StatusCode::FAILURE};
189       \}
190       varlist.push\_back ( \hyperlink{classvar}{var}( atoi(instruction[\hyperlink{namespaceimages_a54407fd574970b3178647ae096321a57}{index}].c\_str()) ) );
191     \}
192     \textcolor{comment}{// float ?}
193     \textcolor{keywordflow}{if} ( 0==cmd[\hyperlink{namespaceimages_a54407fd574970b3178647ae096321a57}{index}].compare(\textcolor{stringliteral}{"%f"}) || 0==cmd[\hyperlink{namespaceimages_a54407fd574970b3178647ae096321a57}{index}].compare(\textcolor{stringliteral}{"%F"}) )\{
194       \textcolor{keywordflow}{if} ( !\hyperlink{Tools_8cpp_ae7615ca3a69f79ae0e70767043c49387}{isFloat} ( instruction[\hyperlink{namespaceimages_a54407fd574970b3178647ae096321a57}{index}].c\_str() ) ) \{
195     \hyperlink{Tools_8cpp_a27885a3c35afe79029fb830f32f66458}{application}()->\hyperlink{classObject_a65cd4fda577711660821fd2cd5a3b4c9}{warning}(\textcolor{stringliteral}{"We expect a float parameter ["}+instruction[
      \hyperlink{namespaceimages_a54407fd574970b3178647ae096321a57}{index}]+\textcolor{stringliteral}{"]"},\textcolor{stringliteral}{"checkCmd"});
196     \textcolor{keywordflow}{return} \hyperlink{classStatusCode_a6f565cbeadc76d14c72f047e5e85eb4ba3da73d4c469762eb9d3c960368252b26}{StatusCode::FAILURE};
197       \}
198       varlist.push\_back( \hyperlink{classvar}{var} ( atof(instruction[\hyperlink{namespaceimages_a54407fd574970b3178647ae096321a57}{index}].c\_str()) ) );
199     \}
200   \}
201   \textcolor{keywordflow}{return} \hyperlink{classStatusCode_a6f565cbeadc76d14c72f047e5e85eb4badd0da38d3ba0d922efd1f4619bc37ad8}{StatusCode::SUCCESS};
202 \}
\end{DoxyCode}
\mbox{\Hypertarget{Tools_8cpp_ae8e9adcadc5cddf91fc3b7c58b41815d}\label{Tools_8cpp_ae8e9adcadc5cddf91fc3b7c58b41815d}} 
\index{Tools.\+cpp@{Tools.\+cpp}!dtos@{dtos}}
\index{dtos@{dtos}!Tools.\+cpp@{Tools.\+cpp}}
\subsubsection{\texorpdfstring{dtos()}{dtos()}}
{\footnotesize\ttfamily std\+::string dtos (\begin{DoxyParamCaption}\item[{double}]{d }\end{DoxyParamCaption})}



Definition at line 60 of file Tools.\+cpp.


\begin{DoxyCode}
60                         \{   
61   \textcolor{keywordtype}{char} val[20];
62   sprintf(val,\textcolor{stringliteral}{"%f"},d);
63   std::string str(val);
64   \textcolor{keywordflow}{return} str;
65 \}
\end{DoxyCode}
\mbox{\Hypertarget{Tools_8cpp_ad2603c89b82a1609399d9c9257f947f7}\label{Tools_8cpp_ad2603c89b82a1609399d9c9257f947f7}} 
\index{Tools.\+cpp@{Tools.\+cpp}!ftos@{ftos}}
\index{ftos@{ftos}!Tools.\+cpp@{Tools.\+cpp}}
\subsubsection{\texorpdfstring{ftos()}{ftos()}}
{\footnotesize\ttfamily std\+::string ftos (\begin{DoxyParamCaption}\item[{float}]{ }\end{DoxyParamCaption})}

Conversion from float to std\+::string 

Definition at line 53 of file Tools.\+cpp.


\begin{DoxyCode}
53                        \{    
54   \textcolor{keywordtype}{char} val[20];
55   sprintf(val,\textcolor{stringliteral}{"%f"},\hyperlink{namespacecat_ac4e5e84140346d3c05a72261c63ef7b1}{f});
56   std::string str(val);
57   \textcolor{keywordflow}{return} str;
58 \}
\end{DoxyCode}
\mbox{\Hypertarget{Tools_8cpp_a0c3fa1747044139af8fa1de8b921226c}\label{Tools_8cpp_a0c3fa1747044139af8fa1de8b921226c}} 
\index{Tools.\+cpp@{Tools.\+cpp}!graph\+Svc@{graph\+Svc}}
\index{graph\+Svc@{graph\+Svc}!Tools.\+cpp@{Tools.\+cpp}}
\subsubsection{\texorpdfstring{graph\+Svc()}{graphSvc()}}
{\footnotesize\ttfamily bool graph\+Svc (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Definition at line 250 of file Tools.\+cpp.


\begin{DoxyCode}
250                 \{
251   \textcolor{comment}{//  GraphPrinter graph = application() -> options() -> graphPrinter ();}
252   \textcolor{comment}{//  return graph ( );}
253   \textcolor{keywordflow}{return} \textcolor{keyword}{false};
254 \}
\end{DoxyCode}
\mbox{\Hypertarget{Tools_8cpp_a0029683290056ff94e5ddc0dfaa3e1c4}\label{Tools_8cpp_a0029683290056ff94e5ddc0dfaa3e1c4}} 
\index{Tools.\+cpp@{Tools.\+cpp}!input\+Svc@{input\+Svc}}
\index{input\+Svc@{input\+Svc}!Tools.\+cpp@{Tools.\+cpp}}
\subsubsection{\texorpdfstring{input\+Svc()}{inputSvc()}}
{\footnotesize\ttfamily std\+::string input\+Svc (\begin{DoxyParamCaption}\item[{std\+::string}]{msg }\end{DoxyParamCaption})}



Definition at line 259 of file Tools.\+cpp.


\begin{DoxyCode}
259                                     \{
260   \textcolor{comment}{/*}
261 \textcolor{comment}{  InputSvc inp = application() -> options() -> inputSvc ();}
262 \textcolor{comment}{  return inp ( msg );}
263 \textcolor{comment}{  */}
264   \textcolor{keywordflow}{return} std::string(\textcolor{stringliteral}{"not implemented."});
265 \}
\end{DoxyCode}
\mbox{\Hypertarget{Tools_8cpp_ae7615ca3a69f79ae0e70767043c49387}\label{Tools_8cpp_ae7615ca3a69f79ae0e70767043c49387}} 
\index{Tools.\+cpp@{Tools.\+cpp}!is\+Float@{is\+Float}}
\index{is\+Float@{is\+Float}!Tools.\+cpp@{Tools.\+cpp}}
\subsubsection{\texorpdfstring{is\+Float()}{isFloat()}}
{\footnotesize\ttfamily bool is\+Float (\begin{DoxyParamCaption}\item[{const char $\ast$}]{ }\end{DoxyParamCaption})}

check if string is compatible with float 

Definition at line 206 of file Tools.\+cpp.



Referenced by check\+Cmd().


\begin{DoxyCode}
206                                   \{
207   \textcolor{keyword}{const} \textcolor{keywordtype}{char} *pChain = chain;
208   \textcolor{keywordflow}{while} (*pChain!=\textcolor{charliteral}{'\(\backslash\)0'}) \{
209     \textcolor{keywordflow}{if} ( *pChain!=\textcolor{charliteral}{'0'} && *pChain!=\textcolor{charliteral}{'1'} && *pChain!=\textcolor{charliteral}{'2'} && *pChain!=\textcolor{charliteral}{'3'} &&
210      *pChain!=\textcolor{charliteral}{'4'} && *pChain!=\textcolor{charliteral}{'5'} && *pChain!=\textcolor{charliteral}{'6'} && *pChain!=\textcolor{charliteral}{'7'} &&
211      *pChain!=\textcolor{charliteral}{'8'} && *pChain!=\textcolor{charliteral}{'9'} && *pChain!=\textcolor{charliteral}{'+'} && *pChain!=\textcolor{charliteral}{'-'} &&
212      *pChain!=\textcolor{charliteral}{'.'} )\{
213       \textcolor{keywordflow}{return} \textcolor{keyword}{false};
214     \}
215     pChain++;
216   \}
217   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
218 \} 
\end{DoxyCode}
\mbox{\Hypertarget{Tools_8cpp_a9cfc57e458c74c6992c89e2f9312ea36}\label{Tools_8cpp_a9cfc57e458c74c6992c89e2f9312ea36}} 
\index{Tools.\+cpp@{Tools.\+cpp}!is\+Int@{is\+Int}}
\index{is\+Int@{is\+Int}!Tools.\+cpp@{Tools.\+cpp}}
\subsubsection{\texorpdfstring{is\+Int()}{isInt()}}
{\footnotesize\ttfamily bool is\+Int (\begin{DoxyParamCaption}\item[{const char $\ast$}]{ }\end{DoxyParamCaption})}

check if string is compatible with int 

Definition at line 223 of file Tools.\+cpp.



References application(), and Object\+::info().



Referenced by check\+Cmd().


\begin{DoxyCode}
223                                 \{
224   \textcolor{keyword}{const} \textcolor{keywordtype}{char} *pChain = chain;  
225   \textcolor{keywordtype}{bool} first = \textcolor{keyword}{true};
226   \textcolor{keywordflow}{while} (*pChain!=\textcolor{charliteral}{'\(\backslash\)0'}) \{
227     \textcolor{keywordflow}{if} ( ( *pChain<'0' || *pChain>\textcolor{charliteral}{'9'} ) )\{
228       \hyperlink{Tools_8cpp_a27885a3c35afe79029fb830f32f66458}{application}()->\hyperlink{classObject_a644fd329ea4cb85f54fa6846484b84a8}{info}(chain,\textcolor{stringliteral}{""});
229       \textcolor{keywordflow}{if} ( !first || *pChain!=\textcolor{charliteral}{'-'} )\{ 
230     \textcolor{keywordflow}{return} \textcolor{keyword}{false};
231       \}
232     \}
233     first = \textcolor{keyword}{false};
234     pChain++;
235   \}
236   \textcolor{keywordflow}{return} \textcolor{keyword}{true};
237 \} 
\end{DoxyCode}
\mbox{\Hypertarget{Tools_8cpp_af5aab27b581d3099ed0afa100a1b16a1}\label{Tools_8cpp_af5aab27b581d3099ed0afa100a1b16a1}} 
\index{Tools.\+cpp@{Tools.\+cpp}!itob@{itob}}
\index{itob@{itob}!Tools.\+cpp@{Tools.\+cpp}}
\subsubsection{\texorpdfstring{itob()}{itob()}}
{\footnotesize\ttfamily std\+::vector$<$bool$>$ itob (\begin{DoxyParamCaption}\item[{int}]{,  }\item[{int}]{ }\end{DoxyParamCaption})}

Conversion from integer to binary (std\+::string) 

Definition at line 77 of file Tools.\+cpp.



Referenced by I\+Odata\+::dump().


\begin{DoxyCode}
77                                       \{
78   \textcolor{keywordtype}{int} i=nbit-1; 
79   \textcolor{keywordtype}{int} power; 
80   std::vector<bool> \hyperlink{Tools_8h_a16025e92b541c606122d8b4af59c2e76}{bits}(nbit);
81   \textcolor{comment}{//    int limit=1<<(nbit-1);}
82   \textcolor{comment}{//int vsat=(val<limit)?val:int(limit-1); //saturation}
83   \textcolor{keywordtype}{int} vsat=val;
84   \textcolor{keywordflow}{while}(i>=0)\{
85     power=1<<i;
86     \hyperlink{Tools_8h_a16025e92b541c606122d8b4af59c2e76}{bits}[i]=(vsat/power==1);
87     vsat=vsat%power;
88     i--;
89   \}
90   \textcolor{keywordflow}{return} \hyperlink{Tools_8h_a16025e92b541c606122d8b4af59c2e76}{bits};
91 \}
\end{DoxyCode}
\mbox{\Hypertarget{Tools_8cpp_a20f271409637c91b02c586644cb542e0}\label{Tools_8cpp_a20f271409637c91b02c586644cb542e0}} 
\index{Tools.\+cpp@{Tools.\+cpp}!itos@{itos}}
\index{itos@{itos}!Tools.\+cpp@{Tools.\+cpp}}
\subsubsection{\texorpdfstring{itos()}{itos()}}
{\footnotesize\ttfamily std\+::string itos (\begin{DoxyParamCaption}\item[{int}]{ }\end{DoxyParamCaption})}

Conversion from int (long) to std\+::string 

Definition at line 46 of file Tools.\+cpp.



Referenced by btos(), and wait().


\begin{DoxyCode}
46                      \{  
47   \textcolor{keywordtype}{char} val[20];
48   sprintf(val,\textcolor{stringliteral}{"%d"},i);
49   std::string str(val);
50   \textcolor{keywordflow}{return} str;
51 \}
\end{DoxyCode}
\mbox{\Hypertarget{Tools_8cpp_a2c956caea957588eef9f0e6499e5e8c1}\label{Tools_8cpp_a2c956caea957588eef9f0e6499e5e8c1}} 
\index{Tools.\+cpp@{Tools.\+cpp}!set\+Application@{set\+Application}}
\index{set\+Application@{set\+Application}!Tools.\+cpp@{Tools.\+cpp}}
\subsubsection{\texorpdfstring{set\+Application()}{setApplication()}}
{\footnotesize\ttfamily void set\+Application (\begin{DoxyParamCaption}\item[{\hyperlink{classApplication}{Application} $\ast$}]{ }\end{DoxyParamCaption})}

Define entry point for the application 

Definition at line 38 of file Tools.\+cpp.



References gui\+::cat.



Referenced by Application\+::\+Application().


\begin{DoxyCode}
38                                       \{
39   \hyperlink{Tools_8cpp_aea679c7117e896daafaf36140158c9ee}{gApp} = \hyperlink{namespacegui_a3a26ff3a3c51b7dea987a548f1ca8109}{cat};  
40 \}
\end{DoxyCode}
\mbox{\Hypertarget{Tools_8cpp_a784f38ec4c07dbcd5371f60fbfaa0531}\label{Tools_8cpp_a784f38ec4c07dbcd5371f60fbfaa0531}} 
\index{Tools.\+cpp@{Tools.\+cpp}!stoi@{stoi}}
\index{stoi@{stoi}!Tools.\+cpp@{Tools.\+cpp}}
\subsubsection{\texorpdfstring{stoi()}{stoi()}}
{\footnotesize\ttfamily int stoi (\begin{DoxyParamCaption}\item[{std\+::string}]{ }\end{DoxyParamCaption})}

Conversion from binary (std\+::string) to integer 

Definition at line 93 of file Tools.\+cpp.



References cat\+::size.


\begin{DoxyCode}
93                          \{  
94   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} codage=2;
95   \textcolor{keywordtype}{int} result=0;
96   \textcolor{keywordtype}{char} h[codage]=\{\textcolor{charliteral}{'0'},\textcolor{charliteral}{'1'}\};
97   \textcolor{keyword}{const} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} \hyperlink{namespacecat_a3eae50bb86a614752045105e00365a46}{size}=value.size();
98   \textcolor{keyword}{const} \textcolor{keywordtype}{char}* word=value.c\_str();
99   \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} pos=0;
100   \textcolor{keywordflow}{while} (pos<size)\{
101     \textcolor{keywordtype}{bool} isSeen=\textcolor{keyword}{false};
102     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} j=0; j<codage && !isSeen; j++)\{
103       \textcolor{keywordflow}{if} (h[j]==word[pos])\{
104     result+=int(j*pow(2.,(\textcolor{keywordtype}{int})(size-pos-1)));
105     isSeen=\textcolor{keyword}{true};
106       \}
107     \}
108     pos++;
109   \}
110   \textcolor{keywordflow}{return} result;
111 \}
\end{DoxyCode}
\mbox{\Hypertarget{Tools_8cpp_ae91b71f52ca53ead2aa47b7db006c404}\label{Tools_8cpp_ae91b71f52ca53ead2aa47b7db006c404}} 
\index{Tools.\+cpp@{Tools.\+cpp}!to\+Double@{to\+Double}}
\index{to\+Double@{to\+Double}!Tools.\+cpp@{Tools.\+cpp}}
\subsubsection{\texorpdfstring{to\+Double()}{toDouble()}}
{\footnotesize\ttfamily double to\+Double (\begin{DoxyParamCaption}\item[{std\+::string}]{ }\end{DoxyParamCaption})}

Conversion from string (potentially with a comma) to a double 

Definition at line 113 of file Tools.\+cpp.


\begin{DoxyCode}
113                             \{
114     \textcolor{comment}{// do not use a reference, since we're going to modify this string}
115     \textcolor{comment}{// If you do not care about ',' or '.' in your string use a }
116     \textcolor{comment}{// reference instead.}
117     \textcolor{keywordtype}{size\_t} found = s.find(\textcolor{stringliteral}{","});
118     \textcolor{keywordflow}{if}(found != std::string::npos)
119         s[found]=\textcolor{charliteral}{'.'}; \textcolor{comment}{// Change ',' to '.'}
120     \textcolor{keywordflow}{return} atof(s.c\_str());
121 \}
\end{DoxyCode}
\mbox{\Hypertarget{Tools_8cpp_afa4d2c71ecbefa3a07468d4a3d590e87}\label{Tools_8cpp_afa4d2c71ecbefa3a07468d4a3d590e87}} 
\index{Tools.\+cpp@{Tools.\+cpp}!wait@{wait}}
\index{wait@{wait}!Tools.\+cpp@{Tools.\+cpp}}
\subsubsection{\texorpdfstring{wait()}{wait()}}
{\footnotesize\ttfamily void wait (\begin{DoxyParamCaption}\item[{int}]{nbr\+\_\+ms }\end{DoxyParamCaption})}

system wait for a few seconds 

Definition at line 271 of file Tools.\+cpp.



References application(), itos(), and Object\+::verbose().



Referenced by A\+D\+C\+Measurement\+::execute(), Current\+Measurement\+::execute(), Usb\+F\+T\+Interface\+::init(), and Usb\+F\+T\+M\+L\+Interface\+::init().


\begin{DoxyCode}
272 \{
273   \hyperlink{Tools_8cpp_a27885a3c35afe79029fb830f32f66458}{application}()->\hyperlink{classObject_a83d2db2df682907ea1115ad721c1c4a1}{verbose}(\textcolor{stringliteral}{"wait for "}+\hyperlink{Tools_8cpp_a20f271409637c91b02c586644cb542e0}{itos}(n)+\textcolor{stringliteral}{" ms."},\textcolor{stringliteral}{"Tools::wait"});
274 \textcolor{preprocessor}{#ifdef WIN32}
275   Sleep( n );
276 \textcolor{preprocessor}{#else}
277   usleep( 1000 * n );
278 \textcolor{preprocessor}{#endif}
279 \}
\end{DoxyCode}


\subsection{Variable Documentation}
\mbox{\Hypertarget{Tools_8cpp_aea679c7117e896daafaf36140158c9ee}\label{Tools_8cpp_aea679c7117e896daafaf36140158c9ee}} 
\index{Tools.\+cpp@{Tools.\+cpp}!g\+App@{g\+App}}
\index{g\+App@{g\+App}!Tools.\+cpp@{Tools.\+cpp}}
\subsubsection{\texorpdfstring{g\+App}{gApp}}
{\footnotesize\ttfamily \hyperlink{classApplication}{Application}$\ast$ g\+App}



Definition at line 36 of file Tools.\+cpp.



Referenced by application().

